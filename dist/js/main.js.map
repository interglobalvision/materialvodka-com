{"version":3,"sources":["webpack:///webpack/bootstrap 99cf27386f208444c32a","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///./src/js/main.js","webpack:///./src/js/covervid.js","webpack:///./src/js/shop.js","webpack:///./node_modules/shopify-buy/index.js","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/dayjs/dist/dayjs.min.js","webpack:///./src/styl/site.styl","webpack:///./src/js/ajaxy.js"],"names":["factory","registeredInModuleLoader","define","exports","module","OldCookies","window","Cookies","api","noConflict","extend","i","result","arguments","length","attributes","key","init","converter","value","document","path","defaults","expires","Date","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","split","rdecode","parts","slice","join","json","charAt","name","read","parse","set","get","call","getJSON","apply","remove","withConverter","Site","mobileThreshold","$","resize","onResize","bind","ready","onReady","repositionHeader","updateCubeStyle","sizeHeaderSpacer","$window","$document","$header","$mainContent","$headerSpacer","$covervidVideo","checkForCookie","initCoverVid","submitAgeForm","bindStickyHeader","animateBottleSprite","bindRecipeCube","each","string","html","coverVid","that","on","headerSpacerOffset","windowHeight","scrollTop","addClass","css","top","headerTop","bottom","removeClass","headerHeight","outerHeight","offset","controller","Controller","tween","to","backgroundPosition","ease","SteppedEase","config","scene","Scene","duration","triggerHook","setTween","addTo","find","styleId","selector","cubeTransition","width","styleContent","styleElement","append","setTimeout","transition","preventDefault","month","val","day","year","birthday","age","diff","console","log","Material","MaterialShop","MaterialAjaxy","elem","height","sizeVideo","debounce","fn","delay","timer","context","args","clearTimeout","addEventListener","style","position","left","transform","parentNode","overflow","posterImage","getAttribute","removeAttribute","backgroundImage","backgroundSize","parentHeight","offsetHeight","parentWidth","offsetWidth","nativeWidth","nativeHeight","heightScaleFactor","widthScaleFactor","supportsVideo","canPlayType","isMobile","navigator","userAgent","substr","removeChild","jQuery","Shop","WP","shopify","domain","storefrontAccessToken","client","buildClient","initCheckout","initSingleProduct","initCartSection","error","$cartLink","$cartCounter","checkoutId","checkout","fetch","then","updateCart","catch","create","id","productHandle","attr","fetchProductMeta","$itemsContainer","$checkoutContainer","$subtotalContainer","handleCartQuantity","handleRemoveItems","product","fetchByHandle","$price","$quantitySelect","$quantityLabel","$variationSelect","$variationLabel","showPrice","generateSelector","handleAddToCart","lineItems","webUrl","subtotalPrice","clearCartMarkup","generateCartItemsRow","bindCartInputs","generateCheckout","generateSubtotal","updateSubtotal","$removeItem","bindRemoveItems","$element","attrs","variants","price","itemsToAdd","getQuantityAndVariant","addLineItems","items","map","image","item","title","quantity","variant","checkoutUrl","text","event","productId","target","dataset","parseInt","productToUpdate","updateLineItems","$select","$label","label","option","selectedOptions","variantId","removeLineItems","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck$1","instance","Constructor","TypeError","createClass$1","defineProperties","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","inherits$1","subClass","superClass","setPrototypeOf","__proto__","possibleConstructorReturn$1","self","ReferenceError","_len","fields","Array","_key","isObject","Boolean","toString","valueOf","deepFreezeCopyExcept","predicate","structure","freeze","keys","reduce","copy","isArray","schemaForType","typeBundle","typeName","type","types","Error","classCallCheck","createClass","_extends","assign","source","hasOwnProperty","inherits","possibleConstructorReturn","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","toConsumableArray","arr2","from","VariableDefinition","defaultValue","toInputValueString","defaultValueString","formatInputValue","isVariable","isPrototypeOf","variable","Enum","enumFunction","Scalar","get$$1","formatObject","openChar","closeChar","argPairs","formatArgs","noop","Profiler","trackTypeDependency","trackFieldDependency","parseFieldCreationArgs","creationArgs","callback","options","selectionSet","_creationArgs","_creationArgs2","SelectionSet","emptyArgs","Field","alias","responseKey","aliasPrefix","Spread","InlineFragment","_Spread","_this","getPrototypeOf","FragmentSpread","_Spread2","fragmentDefinition","_this2","toDefinition","FragmentDefinition","typeSchema","spread","selectionsHaveIdField","selections","some","fieldOrFragment","implementsNode","selectionsHaveTypenameField","indexSelectionsByResponseKey","assignOrPush","unfrozenObject","acc","selection","responseKeys","selectionsByResponseKey","forEach","builderFunction","SelectionSetBuilder","unshift","kind","hasSelectionWithResponseKey","field","add","selectionOrFieldName","rest","concat","_len2","_key2","parsedArgs","fieldBaseTypes","fieldBaseType","inlineFragmentOn","builderFunctionOrSelectionSet","addField","_len3","_key3","addConnection","_len4","_key4","_parseFieldCreationAr","connection","pageInfo","edges","addInlineFragmentOn","fieldTypeCb","addFragment","fragmentSpread","parseArgs","variables","selectionSetCallback","_args","VariableDefinitions","variableDefinitions","Operation","operationType","_parseArgs","queryType","mutationType","nameString","Query","_Operation","_ref","Mutation","isAnonymous","operation","hasAnonymousOperations","operations","hasDuplicateOperationNames","names","hasDuplicates","index","indexOf","extractOperation","Function","isInvalidOperationCombination","fragmentNameIsNotUnique","existingDefinitions","definition","Document","definitions","addOperation","addQuery","addMutation","defineFragment","onType","fragmentDefinitions","fragment","filter","GraphModel","ClassRegistry","classStore","registerClassForType","unregisterClassForType","classForType","isValue","arg","isNodeContext","isConnection","endsWith","nearestNode","parent","contextsFromRoot","contextsFromNearestNode","initializeDocumentAndVars","currentContext","contextChain","lastInChain","first","firstVar","addNextFieldTo","currentSelection","cursor","nextContext","shift","newSelection","edgesField","nodeField","after","collectFragments","nextPageQueryAndPath","nearestNodeContext","_document$definitions","nodeType","nodeId","responseData","_initializeDocumentAn","_initializeDocumentAn2","root","node","fragments","_document$definitions2","_initializeDocumentAn3","_initializeDocumentAn4","hasNextPage$1","edge","hasNextPage","hasPreviousPage","transformConnections","variableValues","DecodingContext","contextForObjectProperty","nestedSelections","nextSelection","contextForArrayItem","decodeArrayItems","transformers","decodeContext","decodeObjectValues","runTransformers","transformer","generateRefetchQueries","refetchQuery","transformPojosToClassesWithRegistry","classRegistry","transformPojosToClasses","Klass","transformScalars","recordTypeInformation","__typename","defaultTransformers","_ref$classRegistry","decode","httpFetcher","url","fetcher","graphQLParams","body","method","mode","headers","Accept","response","paginatedModels","Client$2","Client","fetcherOptions","_ref$registry","registry","query","mutation","send","request","otherProperties","operationOrDocument","operationName","documentOperation","data","model","fetchNextPage","nodeOrNodes","_node$nextPageQueryAn","_node$nextPageQueryAn2","object","fetchAllPages","_ref2","pageSize","_ref3","pages","Promise","resolve","refetch","_ref4","variable$$1","_enum","Config","accessToken","apiKey","deprecatedProperties","warn","requiredProperties","Resource","graphQLClient","defaultErrors","message","defaultResolver","errors","reject","ref","_","fetchResourcesForProducts","productOrProduct","products","all","promiseAcc","images","paginateProductConnectionsAndResolve","paginateCollectionsProductConnectionsAndResolve","collectionOrCollections","collections","collection","productHelpers","variantForOptions","every","selectedOption","spreads","__defaultOperation__","VariantFragment","ProductFragment","query$1","ids","nodes","query$2","sortKey","reverse","shop","query$3","handle","productByHandle","ProductResource","_Resource","fetchAll","fetchMultiple","fetchQuery","_ref$first","_ref$sortKey","query$$1","query$4","CollectionFragment","query$5","CollectionsProductsFragment","query$6","query$7","productsFirst","query$8","collectionByHandle","CollectionResource","fetchAllWithProducts","_ref$productsFirst","fetchWithProducts","_ref2$first","_ref2$sortKey","query$9","primaryDomain","query$10","PolicyFragment","privacyPolicy","termsOfService","refundPolicy","ShopResource","fetchInfo","fetchPolicies","handleCheckoutMutation","mutationRootKey","rootData","rootModel","userErrors","query$11","VariantWithProductFragment","MailingAddressFragment","CheckoutFragment","shippingAddress","shippingLine","customAttributes","order","query$12","input","UserErrorFragment","checkoutCreate","query$13","checkoutLineItemsAdd","query$14","lineItemIds","checkoutLineItemsRemove","query$15","checkoutLineItemsUpdate","CheckoutResource","imageHelpers","imageForSize","maxWidth","maxHeight","splitUrl","src","notQuery","imageTokens","imagePathIndex","ImageResource","version","QueryRoot","Node","ID","String$1","Boolean$1","DateTime","MailingAddress","Float","PageInfo","Int","Order","Money","CurrencyCode","URL","OrderLineItemConnection","OrderLineItemEdge","OrderLineItem","ProductVariant","Image","SelectedOption","Product","CollectionConnection","CollectionEdge","Collection","HTML","ProductConnection","ProductEdge","ImageConnection","ImageEdge","ProductOption","ProductVariantConnection","ProductVariantEdge","Attribute","Domain","ShopPolicy","Mutation$1","UserError","Checkout","CheckoutLineItemConnection","CheckoutLineItemEdge","CheckoutLineItem","ShippingRate","CheckoutCreatePayload","CheckoutLineItemsAddPayload","CheckoutLineItemsRemovePayload","CheckoutLineItemsUpdatePayload","Types","subscriptionType","recursivelyFreezeObject","getOwnPropertyNames","fetchFunction","newConfig","GraphQLClientClass","models","lazySizes","l","getElementsByClassName","lazysizes","lazySizesConfig","docElem","documentElement","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","hasClass","ele","cls","RegExp","setAttribute","trim","reg","addRemoveLoadEvents","dom","action","evt","triggerEvent","detail","noBubbles","noCancelable","createEvent","initCustomEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","reevaluate","elements","getCSS","getComputedStyle","getWidth","minSize","_lazysizesWidth","rAF","running","waiting","firstFns","secondFns","fns","run","runFns","rafBatch","queue","hidden","_lsFlush","rAFIt","simple","throttle","lastTime","gDelay","rICTimeout","ricTimeout","now","idleCallback","timeout","isPriority","func","timestamp","wait","later","last","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","customMedia","expFactor","hFac","loadMode","loadHidden","lazysizesConfig","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","defaultExpand","preloadExpand","regImg","regIframe","supportScroll","shrinkExpand","currentExpand","isLoading","lowRuns","resetPreloading","isNestedVisible","elemExpand","outerRect","visible","offsetParent","getBoundingClientRect","right","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","lazyloadElems","expand","clientHeight","clientWidth","_lazyRace","unveilElement","innerWidth","innerHeight","preloadAfterLoad","throttledCheckElements","switchLoadingClass","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","contentWindow","location","handleSources","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","getElementsByTagName","complete","naturalWidth","autoSizer","updateElem","onload","afterScroll","MutationObserver","observe","childList","subtree","setInterval","readyState","checkElems","unveil","autosizesElems","sizeElement","sources","len","dataAttr","getSizeElement","updateElementsSizes","debouncedUpdateElementsSizes","cfg","uP","aC","rC","hC","fire","gW","webpackPolyfill","deprecate","paths","children","t","dayjs","n","s","r","a","u","c","h","o","d","toLowerCase","f","NaN","match","m","$d","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","isValid","isLeapYear","isSame","isBefore","isAfter","date","hour","minute","second","millisecond","unix","Math","floor","getTime","startOf","endOf","toDate","clone","$set","setDate","setMonth","setFullYear","setHours","setMinutes","setSeconds","Number","min","daysInMonth","subtract","format","getTimezoneOffset","abs","M","y","g","S","D","b","ceil","toArray","toJSON","toISOString","toObject","years","months","hours","minutes","seconds","milliseconds","Ajaxy","firstLoad","ajaxBefore","ajaxSuccess","ajaxAfter","ajaxErrorHandler","handlePopState","bindLinks","ajaxSuccessEvent","Event","load","origin","pathname","siteURL","host","$ajaxyLinks","not","click","handleLinkClick","isDefaultPrevented","metaKey","ctrlKey","currentTarget","href","unbind","pushState","history","ajax","dataType","beforeSend","success","xhr","settings","animate","reset","jqXHR","textStatus","respHtml","createElement","innerHTML","$bodyClasses","$content","$title","removeAttr","isAdmin"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 99cf27386f208444c32a","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/js-cookie/src/js.cookie.js","/* jshint esversion: 6, browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document */\n\n// Import dependencies\nimport './covervid.js';\nimport Shop from './shop';\nimport Ajaxy from './ajaxy';\n\nimport lazySizes from 'lazysizes';\nimport dayjs from 'dayjs';\nimport Cookies from 'js-cookie';\nimport ScrollMagic from 'scrollmagic';\nimport animationGsap from 'animationGsap';\nimport TweenMax from 'gsap';\n\n// Import style\nimport '../styl/site.styl';\n\nclass Site {\n  constructor() {\n    this.mobileThreshold = 601;\n\n    $(window).resize(this.onResize.bind(this));\n\n    $(document).ready(this.onReady.bind(this));\n\n    // Bind\n    this.repositionHeader = this.repositionHeader.bind(this);\n\n  }\n\n  onResize() {\n    this.updateCubeStyle('recipe', '.recipe-item');\n    this.sizeHeaderSpacer();\n    this.repositionHeader();\n  }\n\n  onReady() {\n    lazySizes.init();\n\n    this.$window = $(window);\n    this.$document = $(document);\n    this.$header = $('#header');\n    this.$mainContent = $('#main-content');\n    this.$headerSpacer = $('#header-spacer');\n    this.$covervidVideo = $('.covervid-video');\n\n    this.checkForCookie();\n    this.initCoverVid();\n    this.submitAgeForm();\n    this.bindStickyHeader();\n    this.initCoverVid();\n    this.animateBottleSprite();\n    this.bindRecipeCube();\n  }\n\n  fixWidows() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  }\n\n  initCoverVid() {\n    if (this.$covervidVideo.length) {\n      this.$covervidVideo.coverVid(1920, 1080);\n    }\n  }\n\n  bindStickyHeader() {\n    const that = this;\n\n    this.sizeHeaderSpacer();\n\n    this.$window.on('scroll', this.repositionHeader);\n  }\n\n  repositionHeader() {\n    if ((this.headerSpacerOffset - this.windowHeight) <= this.$window.scrollTop()) {\n      this.$header.addClass('bottom').css({\n        top: this.headerTop + 'px',\n        bottom: 'auto'\n      });\n    } else if ((this.headerSpacerOffset - this.windowHeight) > this.$window.scrollTop()) {\n      this.$header.removeClass('bottom').css({\n        top: 'auto',\n        bottom: 0\n      });\n    }\n  }\n\n  sizeHeaderSpacer() {\n    const headerHeight = this.$header.outerHeight();\n    this.$headerSpacer.css('height', headerHeight + 'px');\n    this.headerTop = this.$headerSpacer.offset().top;\n    this.headerSpacerOffset = this.headerTop + headerHeight;\n    this.windowHeight = this.$window.outerHeight();\n  }\n\n  animateBottleSprite() {\n    if ($('#bottle-sprite').length) {\n      const controller = new ScrollMagic.Controller();\n\n      // create Tween\n      const tween = TweenMax.to(\"#bottle-sprite\", 1.0, {\n        backgroundPosition: \"100% 0\",\n        ease: SteppedEase.config(59)\n      });\n\n      // build scene\n      const scene = new ScrollMagic.Scene({duration: 500})\n      .triggerHook(\"onCenter\")\n      .setTween(tween)\n      .addTo(controller);\n    }\n  }\n\n  bindRecipeCube() {\n    if ($('.recipe-item').length) {\n      $('.recipe-item').on({\n        'click': function() {\n          $('.cube-holder').removeClass('cube-active');\n          $(this).addClass('cube-active').find('.cube-right').addClass('cube-front');\n          $(this).addClass('cube-active').find('.cube-left').removeClass('cube-front');\n        },\n        'mouseleave': function() {\n          $('.cube-holder').removeClass('cube-active');\n          $(this).find('.cube-right').removeClass('cube-front');\n          $(this).find('.cube-left').addClass('cube-front');\n        }\n      });\n\n      this.updateCubeStyle('recipe', '.recipe-item');\n    }\n  }\n\n  updateCubeStyle(styleId, selector) {\n    const cubeTransition = 0.6;\n\n    if ($(selector).length) {\n      const width = $(selector).width() / 2;\n\n      const styleContent = `\n      ${selector} .cube-left {\n        transform: rotateY(-90deg) translateZ(${width}px)\n      }\n      ${selector} .cube-left.cube-front {\n        transform: rotateY(0deg) translateZ(${width}px)\n      }\n      ${selector} .cube-right {\n        transform: rotateY(90deg) translateZ(${width}px)\n      }\n      ${selector} .cube-right.cube-front {\n        transform: rotateY(0deg) translateZ(${width}px)\n      }`;\n\n      if ($('style#cube-style-' + styleId).length) {\n        $('style#cube-style-' + styleId).html(styleContent);\n      } else {\n        const styleElement = `\n        <style type=\"text/css\" id=\"cube-style-${styleId}\">\n          ${styleContent}\n        </style>`;\n\n        $('head').append(styleElement);\n\n        $(selector).addClass('ready');\n\n        window.setTimeout(function() {\n          $(selector).find('.cube-left, .cube-right').css({\n            transition: 'transform ' + cubeTransition + 's ease-in-out',\n          });\n        }, 100);\n      }\n    }\n  }\n\n  submitAgeForm() {\n    $('#submit-age').on('click', function(e){\n      e.preventDefault();\n      const month = $('#birthday-month').val();\n      const day = $('#birthday-day').val();\n      const year = $('#birthday-year').val();\n      const birthday = dayjs(new Date(year, month, day));\n      const age = dayjs().diff(birthday, 'years');\n      if (age >= 21) {\n        Cookies.set('legalAge', true, { expires: 1 }); // Expires in 1 day\n        $('body').addClass('legal-age');\n      } else {\n        console.log(\"not of age\");\n      }\n    });\n  }\n\n  checkForCookie() {\n    const cookie = Cookies.get('legalAge');\n    console.log(cookie);\n    if (cookie) {\n      $('body').addClass('legal-age');\n    } else {\n      console.log('doing nothing')\n    }\n  }\n\n\n}\n\nconst Material = new Site();\nconst MaterialShop = new Shop();\nconst MaterialAjaxy = new Ajaxy();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","var coverVid = function (elem, width, height) {\n\n\t// call sizeVideo on load\n\tsizeVideo();\n\n\t// debounce for resize function\n\tfunction debounce(fn, delay) {\n\t\tvar timer = null;\n\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\n\t\t\twindow.clearTimeout(timer);\n\n\t\t\ttimer = window.setTimeout(function () {\n\t\t\t\tfn.apply(context, args);\n\t\t\t}, delay);\n\t\t};\n\t}\n\n\t// call sizeVideo on resize\n\twindow.addEventListener('resize', debounce(sizeVideo, 50));\n\n\t// Set necessary styles to position video \"center center\"\n\telem.style.position = 'absolute';\n\telem.style.top = '50%';\n\telem.style.left = '50%';\n\telem.style['-webkit-transform'] = 'translate(-50%, -50%)';\n\telem.style['-ms-transform'] = 'translate(-50%, -50%)';\n\telem.style.transform = 'translate(-50%, -50%)';\n\n\t// Set overflow hidden on parent element\n\telem.parentNode.style.overflow = 'hidden';\n\n\t// Get image defined on poster attribute of video\n\tvar posterImage = elem.getAttribute('poster');\n\n\t// Remove poster to disable\n\telem.removeAttribute('poster');\n\n\t// Set poster image as a background cover image on parent element\n\telem.parentNode.style.backgroundImage = 'url(' + posterImage + ')';\n\telem.parentNode.style.backgroundSize = 'cover';\n\telem.parentNode.style.backgroundPosition = 'center center';\n\n\t// Define the attached selector\n\tfunction sizeVideo() {\n\n\t\t// Get parent element height and width\n\t\tvar parentHeight = elem.parentNode.offsetHeight;\n\t\tvar parentWidth = elem.parentNode.offsetWidth;\n\n\t\t// Get native video width and height\n\t\tvar nativeWidth = width;\n\t\tvar nativeHeight = height;\n\n\t\t// Get the scale factors\n\t\tvar heightScaleFactor = parentHeight / nativeHeight;\n\t\tvar widthScaleFactor = parentWidth / nativeWidth;\n\n\t\t// Based on highest scale factor set width and height\n\t\tif (widthScaleFactor > heightScaleFactor) {\n\t\t\telem.style.height = 'auto';\n\t\t\telem.style.width = parentWidth+'px';\n\t\t} else {\n\t\t\telem.style.height = parentHeight+'px';\n\t\t\telem.style.width = 'auto';\n\t\t}\n\t}\n\n\t// Check for video support\n\tvar supportsVideo = (typeof(elem.canPlayType) != 'undefined') ? true : false;\n\n\t// Check if mobile\n\tvar isMobile = false;\n\tif(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4)))\n\t\tisMobile = true;\n\n\t// Remove video if not supported or mobile\n\tif (!supportsVideo || isMobile) {\n\t\telem && elem.parentNode && elem.parentNode.removeChild(elem);\n\t}\n};\n\nif (window.jQuery) {\n\tjQuery.fn.extend({\n\t\t'coverVid': function () {\n\t\t\tcoverVid(this[0], arguments[0], arguments[1]);\n\t\t\treturn this;\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/covervid.js","/* jshint esversion: 6, browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document, WP */\nimport Client from 'shopify-buy';\nimport Cookies from 'js-cookie';\n\nclass Shop {\n  constructor() {\n    this.mobileThreshold = 601;\n\n    $(window)\n      .resize(this.onResize.bind(this)) // Bind resize\n      .on('ajaxSuccess', this.onReady.bind(this)); // Bind ajaxSuccess (custom event, comes from Ajaxy)\n\n    $(document).ready(this.onReady.bind(this));\n\n  }\n\n  onResize() {\n  }\n\n  onReady() {\n\n    // Check shopify api data\n    if(WP.shopify) {\n      const { domain, storefrontAccessToken } = WP.shopify;\n\n      // Init Shopify client\n      this.client = Client.buildClient({\n        domain,\n        storefrontAccessToken,\n      });\n\n      this.initCheckout();\n\n      if ($('.single-product').length) { // Single product page\n        this.initSingleProduct();\n      }\n\n      if ($('#cart-container').length) { // Cart is present\n        this.initCartSection();\n      }\n\n    } else {\n      console.error('Shopify URL and/or token missing');\n    }\n  }\n\n  /**\n   * Init the Shopify checkout, current or new\n   */\n  initCheckout() {\n\n    // Get cart link DOM elements\n    this.$cartLink = $('#cart-link');\n    this.$cartCounter = $('#cart-counter');\n\n    // Get shopifyCheckoutId from cookies\n    const checkoutId = Cookies.get('shopifyCheckoutId');\n\n    // If shopifyCheckoutId already exists (means there was already a cart initiated before)\n    if (checkoutId) {\n\n      // Fetch existing checkout by its checkoutId\n      this.client.checkout.fetch(checkoutId)\n        .then(checkout => {\n          // Do something with the checkout\n          // console.log('EXISTING CHECKOUT', checkout);\n\n          // Save the checkout in object\n          this.checkout = checkout;\n\n          // Update cart display\n          this.updateCart(checkout);\n\n        }).catch( error => {\n          console.log(error);\n        });\n\n    } else { // Non existing checkout\n\n      // Create an empty checkout\n      this.client.checkout.create()\n        .then((checkout) => {\n          // Do something with the checkout\n          // console.log('EMPTY CHECKOUT CREATED', checkout);\n\n          // Save checkout in object\n          this.checkout = checkout;\n\n          // Save the shopifyCheckoutId in a cookie\n          Cookies.set('shopifyCheckoutId', checkout.id, { expires: 7 }); // Expires in 7 days\n        });\n    }\n  }\n\n\n  initSingleProduct() {\n    this.productHandle = $('#shopify-handle').attr('data-shopify-handle');\n\n    if (this.productHandle) {\n      this.fetchProductMeta(this.productHandle);\n    }\n  }\n\n  initCartSection() {\n    // Get DOM elements\n    this.$itemsContainer = $('#items-container');\n    this.$checkoutContainer = $('#checkout-container');\n    this.$subtotalContainer = $('subtotal-container');\n\n    // Bind functions\n    this.handleCartQuantity = this.handleCartQuantity.bind(this); // Bind the quantity selector\n    this.handleRemoveItems = this.handleRemoveItems.bind(this); // Bind remove item button\n  }\n\n  /**\n   * Fetch a product data from shopiy\n   * @param {string} productHandle - The product handle\n   */\n  fetchProductMeta(productHandle) {\n    // Fetch data from shopify. Returns a promise\n    this.client.product.fetchByHandle(productHandle)\n      .then(product => {\n\n        // Get DOM elements\n        this.$price = $('.single-product-price');\n        this.$quantitySelect = $('#quantity');\n        this.$quantityLabel = $('#quantity-select-label');\n        this.$variationSelect = $('#variation-select');\n        this.$variationLabel = $('#variation-select-label');\n\n        // Display price\n        this.showPrice(product, this.$price);\n\n        // Generate variation selector\n        this.generateSelector(product, this.$variationSelect, this.$variationLabel);\n\n        // Bind functions\n        this.handleAddToCart = this.handleAddToCart.bind(this);\n        $('.add-to-cart').on('click', this.handleAddToCart); // Bind AddToCart button\n\n      })\n      .catch( error => {\n        console.log(error);\n      });\n  }\n\n  /**\n   * Update cart\n   * @param {object} checkout - The updated shopify checkout object\n   */\n  updateCart(checkout) {\n    const { lineItems, webUrl, subtotalPrice } = checkout;\n\n    // Update cart items in header\n    this.$cartCounter.html(lineItems.length);\n\n    // Update page Cart content\n    if ($('#cart-container').length) {\n      this.clearCartMarkup();\n      this.generateCartItemsRow(lineItems);\n      this.bindCartInputs(lineItems);\n      this.generateCheckout(webUrl);\n      this.generateSubtotal();\n      this.updateSubtotal(subtotalPrice);\n\n      this.$removeItem = $('.remove-item');\n      this.bindRemoveItems();\n    }\n  }\n\n  clearCartMarkup() {\n    this.$itemsContainer.html('');\n    this.$subtotalContainer.html('');\n    this.$checkoutContainer.html('');\n  }\n\n  /**\n   * Show price in an DOM element\n   * @param {object} product - Shopify product object\n   * @param {object} $element - jQuery DOM object to update\n   */\n  showPrice(product, $element) {\n    // Update the element with the price of the first variant\n    $element.html('$ ' + product.attrs.variants[0].price);\n  }\n\n  handleAddToCart() {\n    const itemsToAdd = this.getQuantityAndVariant();\n\n    // Add an item to the checkout in shopify\n    this.client.checkout.addLineItems(this.checkout.id, [itemsToAdd])\n      .then((checkout) => {\n        // Do something with the updated checkout\n\n        // Update the cart with the updated checkout\n        this.updateCart(checkout);\n      })\n      .catch( error => {\n        console.log(error);\n      });\n  }\n\n  /*\n   * Generate cart items rows markup\n   * @param {object} items - Shopify items object\n   */\n  generateCartItemsRow(items) {\n    if (items.length) {\n      items.map( item => {\n        //console.log(item);\n\n        const image =  item.image ?  `<img alt=\"${item.title}\" src=\"${item.image}\" />` : ``;\n\n        this.$itemsContainer.append(`\n          <div class=\"grid-row   \">\n            <div class=\"grid-item item-s-12 item-m-4 text-align-center\">\n              <h1 class=\"font-uppercase\">${item.title}</h1>\n              ${image}\n            </div>\n            <div class=\"grid-item item-s-2 item-m-1 text-align-center\">\n              <input class=\"cart-item-quantity text-align-center\" type=\"number\" value=\"${item.attrs.quantity.value}\" data-product-id=\"${item.id}\" />\n            </div>\n            <div class=\"grid-item item-s-3 item-m-3 text-align-center\">\n              <span class=\"font-uppercase\">${item.variant.title}</span>\n            </div>\n            <div class=\"grid-item item-s-3 item-m-2 text-align-center\">\n              <span class=\"font-uppercase\">$${item.variant.price}</span>\n            </div>\n            <div class=\"grid-item item-s-3 item-m-2 text-align-center\">\n              <a class=\"remove-item font-uppercase u-pointer\" data-product-id=\"${item.id}\" >Remove Item</span>\n            </div>\n          </div>\n        `);\n      });\n    } else {\n      this.$itemsContainer.append(`\n        <div class=\"grid-row\">\n          <div class=\"grid-item item-s-12 text-align-center\">\n            <h1>Cart is empty</h1>\n            <p>Please visit our <a href=\"/shop\">Shop</p>\n          </div>\n        </div>\n      `);\n    }\n  }\n\n  generateCheckout(checkoutUrl) {\n    this.$checkoutContainer.append(`<a href=\"${checkoutUrl}\">Proceed to Checkout</a>`);\n  }\n\n  generateSubtotal() {\n    this.$subtotalContainer.append(`\n      <div class=\"grid-item item-s-12 text-align-center\">\n        <p>Subtotal: $<span id=\"subtotal\"></span></p>\n      </div>\n    `);\n  }\n\n  updateSubtotal(price) {\n    $('#subtotal').text(price);\n  }\n\n  bindCartInputs() {\n    $('.cart-item-quantity').on('change', this.handleCartQuantity);\n  }\n\n  handleCartQuantity(event) {\n    const productId =  event.target.dataset.productId;\n    const quantity = parseInt(event.target.value);\n\n    const productToUpdate = {\n      id: productId,\n      quantity,\n    };\n\n    // Update the line item on the checkout (change the quantity or variant)\n    this.client.checkout.updateLineItems(this.checkout.id, [productToUpdate])\n      .then((checkout) => {\n        // Do something with the updated checkout\n        console.log(checkout); // Quantity of line item 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0Lzc4NTc5ODkzODQ=' updated to 2\n        this.updateSubtotal(checkout.subtotalPrice);\n    });\n  }\n\n  generateSelector(product, $select, $label) {\n    let label;\n\n    product.variants.map( option => {\n      const value = option.selectedOptions.map( option => option.value).join(' - ');\n      const variantId = option.id;\n      label = option.selectedOptions[0].name;\n      $select.append(`<option value=\\\"${variantId}\\\">${value}</option>`);\n    });\n\n    $label.html(label);\n  }\n\n  bindRemoveItems() {\n    this.$removeItem.on('click', this.handleRemoveItems);\n  }\n\n  handleRemoveItems(event) {\n    const productId =  event.target.dataset.productId;\n\n    this.client.checkout.removeLineItems(this.checkout.id, [productId]).then( checkout => {\n      this.updateCart(checkout);\n    });\n  }\n\n\n  getQuantityAndVariant() {\n    const variantId = this.$variationSelect.val();\n    const quantity = parseInt(this.$quantitySelect.val());\n\n    // Has to be an array\n    return({\n      variantId,\n      quantity,\n    });\n  }\n}\n\nexport default Shop;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/shop.js","/*\nThe MIT License (MIT)\n\nCopyright (c) 2016 Shopify Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck$1 = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass$1 = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\n\n\nvar inherits$1 = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn$1 = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/*\nThe MIT License (MIT)\nCopyright (c) 2016 Shopify Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\nDAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\nOR OTHER DEALINGS IN THE SOFTWARE.\n\n\n*/\nfunction join() {\n  for (var _len = arguments.length, fields = Array(_len), _key = 0; _key < _len; _key++) {\n    fields[_key] = arguments[_key];\n  }\n\n  return fields.join(' ');\n}\n\nfunction isObject(value) {\n  return Boolean(value) && Object.prototype.toString.call(value.valueOf()) === '[object Object]';\n}\n\nfunction deepFreezeCopyExcept(predicate, structure) {\n  if (predicate(structure)) {\n    return structure;\n  } else if (isObject(structure)) {\n    return Object.freeze(Object.keys(structure).reduce(function (copy, key) {\n      copy[key] = deepFreezeCopyExcept(predicate, structure[key]);\n\n      return copy;\n    }, {}));\n  } else if (Array.isArray(structure)) {\n    return Object.freeze(structure.map(function (item) {\n      return deepFreezeCopyExcept(predicate, item);\n    }));\n  } else {\n    return structure;\n  }\n}\n\nfunction schemaForType(typeBundle, typeName) {\n  var type = typeBundle.types[typeName];\n\n  if (type) {\n    return type;\n  }\n\n  throw new Error(\"No type of \" + typeName + \" found in schema\");\n}\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar toConsumableArray = function toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar VariableDefinition = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#variable} to create a VariableDefinition.\n   *\n   * @param {String} name The name of the variable.\n   * @param {String} type The GraphQL type of the variable.\n   * @param {*} [defaultValue] The default value of the variable.\n   */\n  function VariableDefinition(name, type, defaultValue) {\n    classCallCheck(this, VariableDefinition);\n\n    this.name = name;\n    this.type = type;\n    this.defaultValue = defaultValue;\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the variable as an input value (e.g. `$variableName`).\n   *\n   * @return {String} The GraphQL query string for the variable as an input value.\n   */\n\n  createClass(VariableDefinition, [{\n    key: 'toInputValueString',\n    value: function toInputValueString() {\n      return '$' + this.name;\n    }\n\n    /**\n     * Returns the GraphQL query string for the variable (e.g. `$variableName:VariableType = defaultValue`).\n     *\n     * @return {String} The GraphQL query string for the variable.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var defaultValueString = this.defaultValue ? ' = ' + formatInputValue(this.defaultValue) : '';\n\n      return '$' + this.name + ':' + this.type + defaultValueString;\n    }\n  }]);\n  return VariableDefinition;\n}();\n\nfunction isVariable(value) {\n  return VariableDefinition.prototype.isPrototypeOf(value);\n}\n\nfunction variable(name, type, defaultValue) {\n  return new VariableDefinition(name, type, defaultValue);\n}\n\nvar Enum = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#enum} to create an Enum.\n   *\n   * @param {String} key The key of the enum.\n   */\n  function Enum(key) {\n    classCallCheck(this, Enum);\n\n    this.key = key;\n  }\n\n  /**\n   * Returns the GraphQL query string for the enum (e.g. `enumKey`).\n   *\n   * @return {String} The GraphQL query string for the enum.\n   */\n\n  createClass(Enum, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.key;\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.key.valueOf();\n    }\n  }]);\n  return Enum;\n}();\n\nvar enumFunction = function enumFunction(key) {\n  return new Enum(key);\n};\n\nvar Scalar = function () {\n  function Scalar(value) {\n    classCallCheck(this, Scalar);\n\n    this.value = value;\n  }\n\n  createClass(Scalar, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value.toString();\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.value.valueOf();\n    }\n  }, {\n    key: \"unwrapped\",\n    get: function get$$1() {\n      return this.value;\n    }\n  }]);\n  return Scalar;\n}();\n\nfunction formatInputValue(value) {\n  if (VariableDefinition.prototype.isPrototypeOf(value)) {\n    return value.toInputValueString();\n  } else if (Enum.prototype.isPrototypeOf(value)) {\n    return String(value);\n  } else if (Scalar.prototype.isPrototypeOf(value)) {\n    return JSON.stringify(value.valueOf());\n  } else if (Array.isArray(value)) {\n    return '[' + join.apply(undefined, toConsumableArray(value.map(formatInputValue))) + ']';\n  } else if (isObject(value)) {\n    return formatObject(value, '{', '}');\n  } else {\n    return JSON.stringify(value);\n  }\n}\n\nfunction formatObject(value) {\n  var openChar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var closeChar = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  var argPairs = Object.keys(value).map(function (key) {\n    return key + ': ' + formatInputValue(value[key]);\n  });\n\n  return '' + openChar + join.apply(undefined, toConsumableArray(argPairs)) + closeChar;\n}\n\nfunction formatArgs(args) {\n  if (!Object.keys(args).length) {\n    return '';\n  }\n\n  return ' (' + formatObject(args) + ')';\n}\n\n// eslint-disable-next-line no-empty-function\nvar noop = function noop() {};\n\nvar Profiler = {\n  trackTypeDependency: noop,\n  trackFieldDependency: noop\n};\n\nvar trackTypeDependency = Profiler.trackTypeDependency;\nvar trackFieldDependency = Profiler.trackFieldDependency;\n\nfunction parseFieldCreationArgs(creationArgs) {\n  var callback = noop;\n  var options = {};\n  var selectionSet = null;\n\n  if (creationArgs.length === 2) {\n    if (typeof creationArgs[1] === 'function') {\n      var _creationArgs = slicedToArray(creationArgs, 2);\n\n      options = _creationArgs[0];\n      callback = _creationArgs[1];\n    } else {\n      var _creationArgs2 = slicedToArray(creationArgs, 2);\n\n      options = _creationArgs2[0];\n      selectionSet = _creationArgs2[1];\n    }\n  } else if (creationArgs.length === 1) {\n    // SelectionSet is defined before this function is called since it's\n    // called by SelectionSet\n    // eslint-disable-next-line no-use-before-define\n    if (SelectionSet.prototype.isPrototypeOf(creationArgs[0])) {\n      selectionSet = creationArgs[0];\n    } else if (typeof creationArgs[0] === 'function') {\n      callback = creationArgs[0];\n    } else {\n      options = creationArgs[0];\n    }\n  }\n\n  return { options: options, selectionSet: selectionSet, callback: callback };\n}\n\nvar emptyArgs = Object.freeze({});\n\nvar Field = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Fields are added to a selection by {@link SelectionSetBuilder#add}, {@link SelectionSetBuilder#addConnection}\n   * and {@link SelectionSetBuilder#addInlineFragmentOn}.\n   *\n   * @param {String} name The name of the field.\n   * @param {Object} [options] An options object containing:\n   *   @param {Object} [options.args] Arguments for the field.\n   *   @param {String} [options.alias] An alias for the field.\n   * @param {SelectionSet} selectionSet The selection set on the field.\n   */\n  function Field(name, options, selectionSet) {\n    classCallCheck(this, Field);\n\n    this.name = name;\n    this.alias = options.alias || null;\n    this.responseKey = this.alias || this.name;\n    this.args = options.args ? deepFreezeCopyExcept(isVariable, options.args) : emptyArgs;\n    this.selectionSet = selectionSet;\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the Field (e.g. `catAlias: cat(size: 'small') { name }` or `name`).\n   *\n   * @return {String} The GraphQL query string for the Field.\n   */\n\n  createClass(Field, [{\n    key: 'toString',\n    value: function toString() {\n      var aliasPrefix = this.alias ? this.alias + ': ' : '';\n\n      return '' + aliasPrefix + this.name + formatArgs(this.args) + this.selectionSet;\n    }\n  }]);\n  return Field;\n}();\n\n// This is an interface that defines a usage, and simplifies type checking\nvar Spread = function Spread() {\n  classCallCheck(this, Spread);\n};\n\nvar InlineFragment = function (_Spread) {\n  inherits(InlineFragment, _Spread);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link SelectionSetBuilder#addInlineFragmentOn} to create an InlineFragment.\n   *\n   * @param {String} typeName The type of the fragment.\n   * @param {SelectionSet} selectionSet The selection set on the fragment.\n   */\n  function InlineFragment(typeName, selectionSet) {\n    classCallCheck(this, InlineFragment);\n\n    var _this = possibleConstructorReturn(this, (InlineFragment.__proto__ || Object.getPrototypeOf(InlineFragment)).call(this));\n\n    _this.typeName = typeName;\n    _this.selectionSet = selectionSet;\n    Object.freeze(_this);\n    return _this;\n  }\n\n  /**\n   * Returns the GraphQL query string for the InlineFragment (e.g. `... on Cat { name }`).\n   *\n   * @return {String} The GraphQL query string for the InlineFragment.\n   */\n\n  createClass(InlineFragment, [{\n    key: 'toString',\n    value: function toString() {\n      return '... on ' + this.typeName + this.selectionSet;\n    }\n  }]);\n  return InlineFragment;\n}(Spread);\n\nvar FragmentSpread = function (_Spread2) {\n  inherits(FragmentSpread, _Spread2);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Document#defineFragment} to create a FragmentSpread.\n   *\n   * @param {FragmentDefinition} fragmentDefinition The corresponding fragment definition.\n   */\n  function FragmentSpread(fragmentDefinition) {\n    classCallCheck(this, FragmentSpread);\n\n    var _this2 = possibleConstructorReturn(this, (FragmentSpread.__proto__ || Object.getPrototypeOf(FragmentSpread)).call(this));\n\n    _this2.name = fragmentDefinition.name;\n    _this2.selectionSet = fragmentDefinition.selectionSet;\n    Object.freeze(_this2);\n    return _this2;\n  }\n\n  /**\n   * Returns the GraphQL query string for the FragmentSpread (e.g. `...catName`).\n   *\n   * @return {String} The GraphQL query string for the FragmentSpread.\n   */\n\n  createClass(FragmentSpread, [{\n    key: 'toString',\n    value: function toString() {\n      return '...' + this.name;\n    }\n  }, {\n    key: 'toDefinition',\n    value: function toDefinition() {\n      // eslint-disable-next-line no-use-before-define\n      return new FragmentDefinition(this.name, this.selectionSet.typeSchema.name, this.selectionSet);\n    }\n  }]);\n  return FragmentSpread;\n}(Spread);\n\nvar FragmentDefinition = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Document#defineFragment} to create a FragmentDefinition on a {@link Document}.\n   *\n   * @param {String} name The name of the fragment definition.\n   * @param {String} typeName The type of the fragment.\n   */\n  function FragmentDefinition(name, typeName, selectionSet) {\n    classCallCheck(this, FragmentDefinition);\n\n    this.name = name;\n    this.typeName = typeName;\n    this.selectionSet = selectionSet;\n    this.spread = new FragmentSpread(this);\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the FragmentDefinition (e.g. `fragment catName on Cat { name }`).\n   *\n   * @return {String} The GraphQL query string for the FragmentDefinition.\n   */\n\n  createClass(FragmentDefinition, [{\n    key: 'toString',\n    value: function toString() {\n      return 'fragment ' + this.name + ' on ' + this.typeName + ' ' + this.selectionSet;\n    }\n  }]);\n  return FragmentDefinition;\n}();\n\nfunction selectionsHaveIdField(selections) {\n  return selections.some(function (fieldOrFragment) {\n    if (Field.prototype.isPrototypeOf(fieldOrFragment)) {\n      return fieldOrFragment.name === 'id';\n    } else if (Spread.prototype.isPrototypeOf(fieldOrFragment) && fieldOrFragment.selectionSet.typeSchema.implementsNode) {\n      return selectionsHaveIdField(fieldOrFragment.selectionSet.selections);\n    }\n\n    return false;\n  });\n}\n\nfunction selectionsHaveTypenameField(selections) {\n  return selections.some(function (fieldOrFragment) {\n    if (Field.prototype.isPrototypeOf(fieldOrFragment)) {\n      return fieldOrFragment.name === '__typename';\n    } else if (Spread.prototype.isPrototypeOf(fieldOrFragment) && fieldOrFragment.selectionSet.typeSchema.implementsNode) {\n      return selectionsHaveTypenameField(fieldOrFragment.selectionSet.selections);\n    }\n\n    return false;\n  });\n}\n\nfunction indexSelectionsByResponseKey(selections) {\n  function assignOrPush(obj, key, value) {\n    if (Array.isArray(obj[key])) {\n      obj[key].push(value);\n    } else {\n      obj[key] = [value];\n    }\n  }\n  var unfrozenObject = selections.reduce(function (acc, selection) {\n    if (selection.responseKey) {\n      assignOrPush(acc, selection.responseKey, selection);\n    } else {\n      var responseKeys = Object.keys(selection.selectionSet.selectionsByResponseKey);\n\n      responseKeys.forEach(function (responseKey) {\n        assignOrPush(acc, responseKey, selection);\n      });\n    }\n\n    return acc;\n  }, {});\n\n  Object.keys(unfrozenObject).forEach(function (key) {\n    Object.freeze(unfrozenObject[key]);\n  });\n\n  return Object.freeze(unfrozenObject);\n}\n\n/**\n * Class that specifies the full selection of data to query.\n */\n\nvar SelectionSet = function () {\n\n  /**\n   * This constructor should not be invoked directly. SelectionSets are created when building queries/mutations.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {(Object|String)} type The type of the current selection.\n   * @param {Function} builderFunction Callback function used to build the SelectionSet.\n   *   The callback takes a {@link SelectionSetBuilder} as its argument.\n   */\n  function SelectionSet(typeBundle, type, builderFunction) {\n    classCallCheck(this, SelectionSet);\n\n    if (typeof type === 'string') {\n      this.typeSchema = schemaForType(typeBundle, type);\n    } else {\n      this.typeSchema = type;\n    }\n\n    trackTypeDependency(this.typeSchema.name);\n\n    this.typeBundle = typeBundle;\n    this.selections = [];\n    if (builderFunction) {\n      // eslint-disable-next-line no-use-before-define\n      builderFunction(new SelectionSetBuilder(this.typeBundle, this.typeSchema, this.selections));\n    }\n\n    if (this.typeSchema.implementsNode || this.typeSchema.name === 'Node') {\n      if (!selectionsHaveIdField(this.selections)) {\n        this.selections.unshift(new Field('id', {}, new SelectionSet(typeBundle, 'ID')));\n      }\n    }\n\n    if (this.typeSchema.kind === 'INTERFACE') {\n      if (!selectionsHaveTypenameField(this.selections)) {\n        this.selections.unshift(new Field('__typename', {}, new SelectionSet(typeBundle, 'String')));\n      }\n    }\n\n    this.selectionsByResponseKey = indexSelectionsByResponseKey(this.selections);\n    Object.freeze(this.selections);\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the SelectionSet (e.g. `{ cat { name } }`).\n   *\n   * @return {String} The GraphQL query string for the SelectionSet.\n   */\n\n  createClass(SelectionSet, [{\n    key: 'toString',\n    value: function toString() {\n      if (this.typeSchema.kind === 'SCALAR' || this.typeSchema.kind === 'ENUM') {\n        return '';\n      } else {\n        return ' { ' + join(this.selections) + ' }';\n      }\n    }\n  }]);\n  return SelectionSet;\n}();\n\nvar SelectionSetBuilder = function () {\n\n  /**\n   * This constructor should not be invoked directly. SelectionSetBuilders are created when building queries/mutations.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {Object} typeSchema The schema object for the type of the current selection.\n   * @param {Field[]} selections The fields on the current selection.\n   */\n  function SelectionSetBuilder(typeBundle, typeSchema, selections) {\n    classCallCheck(this, SelectionSetBuilder);\n\n    this.typeBundle = typeBundle;\n    this.typeSchema = typeSchema;\n    this.selections = selections;\n  }\n\n  createClass(SelectionSetBuilder, [{\n    key: 'hasSelectionWithResponseKey',\n    value: function hasSelectionWithResponseKey(responseKey) {\n      return this.selections.some(function (field) {\n        return field.responseKey === responseKey;\n      });\n    }\n\n    /**\n     * Adds a field to be queried on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('cat', {args: {id: '123456'}, alias: 'meow'}, (cat) => {\n     *     cat.add('name');\n     *   });\n     * });\n     *\n     * @param {SelectionSet|String} selectionOrFieldName The selection or name of the field to add.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{id: '123456'}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function|SelectionSet} [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'add',\n    value: function add(selectionOrFieldName) {\n      var selection = void 0;\n\n      if (Object.prototype.toString.call(selectionOrFieldName) === '[object String]') {\n        trackFieldDependency(this.typeSchema.name, selectionOrFieldName);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        selection = this.field.apply(this, [selectionOrFieldName].concat(rest));\n      } else {\n        if (Field.prototype.isPrototypeOf(selectionOrFieldName)) {\n          trackFieldDependency(this.typeSchema.name, selectionOrFieldName.name);\n        }\n\n        selection = selectionOrFieldName;\n      }\n\n      if (selection.responseKey && this.hasSelectionWithResponseKey(selection.responseKey)) {\n        throw new Error('The field name or alias \\'' + selection.responseKey + '\\' has already been added.');\n      }\n      this.selections.push(selection);\n    }\n  }, {\n    key: 'field',\n    value: function field(name) {\n      for (var _len2 = arguments.length, creationArgs = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        creationArgs[_key2 - 1] = arguments[_key2];\n      }\n\n      var parsedArgs = parseFieldCreationArgs(creationArgs);\n      var options = parsedArgs.options,\n          callback = parsedArgs.callback;\n      var selectionSet = parsedArgs.selectionSet;\n\n      if (!selectionSet) {\n        if (!this.typeSchema.fieldBaseTypes[name]) {\n          throw new Error('No field of name \"' + name + '\" found on type \"' + this.typeSchema.name + '\" in schema');\n        }\n\n        var fieldBaseType = schemaForType(this.typeBundle, this.typeSchema.fieldBaseTypes[name]);\n\n        selectionSet = new SelectionSet(this.typeBundle, fieldBaseType, callback);\n      }\n\n      return new Field(name, options, selectionSet);\n    }\n\n    /**\n     * Creates an inline fragment.\n     *\n     * @access private\n     * @param {String} typeName The type  the inline fragment.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     * @return {InlineFragment} An inline fragment.\n     */\n\n  }, {\n    key: 'inlineFragmentOn',\n    value: function inlineFragmentOn(typeName) {\n      var builderFunctionOrSelectionSet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var selectionSet = void 0;\n\n      if (SelectionSet.prototype.isPrototypeOf(builderFunctionOrSelectionSet)) {\n        selectionSet = builderFunctionOrSelectionSet;\n      } else {\n        selectionSet = new SelectionSet(this.typeBundle, schemaForType(this.typeBundle, typeName), builderFunctionOrSelectionSet);\n      }\n\n      return new InlineFragment(typeName, selectionSet);\n    }\n\n    /**\n     * Adds a field to be queried on the current selection.\n     *\n     * @access private\n     * @param {String}    name The name of the field to add to the query.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{id: '123456'}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function}  [callback] Callback which will be used to create a new {@link SelectionSet} for the field added.\n     */\n\n  }, {\n    key: 'addField',\n    value: function addField(name) {\n      for (var _len3 = arguments.length, creationArgs = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        creationArgs[_key3 - 1] = arguments[_key3];\n      }\n\n      this.add.apply(this, [name].concat(creationArgs));\n    }\n\n    /**\n     * Adds a connection to be queried on the current selection.\n     * This adds all the fields necessary for pagination.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('cat', (cat) => {\n     *     cat.addConnection('friends', {args: {first: 10}, alias: 'coolCats'}, (friends) => {\n     *       friends.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String}    name The name of the connection to add to the query.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{first: 10}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'addConnection',\n    value: function addConnection(name) {\n      for (var _len4 = arguments.length, creationArgs = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        creationArgs[_key4 - 1] = arguments[_key4];\n      }\n\n      var _parseFieldCreationAr = parseFieldCreationArgs(creationArgs),\n          options = _parseFieldCreationAr.options,\n          callback = _parseFieldCreationAr.callback,\n          selectionSet = _parseFieldCreationAr.selectionSet;\n\n      this.add(name, options, function (connection) {\n        connection.add('pageInfo', {}, function (pageInfo) {\n          pageInfo.add('hasNextPage');\n          pageInfo.add('hasPreviousPage');\n        });\n        connection.add('edges', {}, function (edges) {\n          edges.add('cursor');\n          edges.addField('node', {}, selectionSet || callback); // This is bad. Don't do this\n        });\n      });\n    }\n\n    /**\n     * Adds an inline fragment on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('animal', (animal) => {\n     *     animal.addInlineFragmentOn('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String} typeName The name of the type of the inline fragment.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'addInlineFragmentOn',\n    value: function addInlineFragmentOn(typeName) {\n      var fieldTypeCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      this.add(this.inlineFragmentOn(typeName, fieldTypeCb));\n    }\n\n    /**\n     * Adds a fragment spread on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.addFragment(catFragmentSpread);\n     * });\n     *\n     * @param {FragmentSpread} fragmentSpread The fragment spread to add.\n     */\n\n  }, {\n    key: 'addFragment',\n    value: function addFragment(fragmentSpread) {\n      this.add(fragmentSpread);\n    }\n  }]);\n  return SelectionSetBuilder;\n}();\n\nfunction parseArgs(args) {\n  var name = void 0;\n  var variables = void 0;\n  var selectionSetCallback = void 0;\n\n  if (args.length === 3) {\n    var _args = slicedToArray(args, 3);\n\n    name = _args[0];\n    variables = _args[1];\n    selectionSetCallback = _args[2];\n  } else if (args.length === 2) {\n    if (Object.prototype.toString.call(args[0]) === '[object String]') {\n      name = args[0];\n      variables = null;\n    } else if (Array.isArray(args[0])) {\n      variables = args[0];\n      name = null;\n    }\n\n    selectionSetCallback = args[1];\n  } else {\n    selectionSetCallback = args[0];\n    name = null;\n  }\n\n  return { name: name, variables: variables, selectionSetCallback: selectionSetCallback };\n}\n\nvar VariableDefinitions = function () {\n  function VariableDefinitions(variableDefinitions) {\n    classCallCheck(this, VariableDefinitions);\n\n    this.variableDefinitions = variableDefinitions ? [].concat(toConsumableArray(variableDefinitions)) : [];\n    Object.freeze(this.variableDefinitions);\n    Object.freeze(this);\n  }\n\n  createClass(VariableDefinitions, [{\n    key: 'toString',\n    value: function toString() {\n      if (this.variableDefinitions.length === 0) {\n        return '';\n      }\n\n      return ' (' + join(this.variableDefinitions) + ') ';\n    }\n  }]);\n  return VariableDefinitions;\n}();\n\n/**\n * Base class for {@link Query} and {@link Mutation}.\n * @abstract\n */\n\nvar Operation = function () {\n\n  /**\n   * This constructor should not be invoked. The subclasses {@link Query} and {@link Mutation} should be used instead.\n   */\n  function Operation(typeBundle, operationType) {\n    classCallCheck(this, Operation);\n\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var _parseArgs = parseArgs(args),\n        name = _parseArgs.name,\n        variables = _parseArgs.variables,\n        selectionSetCallback = _parseArgs.selectionSetCallback;\n\n    this.typeBundle = typeBundle;\n    this.name = name;\n    this.variableDefinitions = new VariableDefinitions(variables);\n    this.operationType = operationType;\n    if (operationType === 'query') {\n      this.selectionSet = new SelectionSet(typeBundle, typeBundle.queryType, selectionSetCallback);\n      this.typeSchema = schemaForType(typeBundle, typeBundle.queryType);\n    } else {\n      this.selectionSet = new SelectionSet(typeBundle, typeBundle.mutationType, selectionSetCallback);\n      this.typeSchema = schemaForType(typeBundle, typeBundle.mutationType);\n    }\n    Object.freeze(this);\n  }\n\n  /**\n   * Whether the operation is anonymous (i.e. has no name).\n   */\n\n  createClass(Operation, [{\n    key: 'toString',\n\n    /**\n     * Returns the GraphQL query or mutation string (e.g. `query myQuery { cat { name } }`).\n     *\n     * @return {String} The GraphQL query or mutation string.\n     */\n    value: function toString() {\n      var nameString = this.name ? ' ' + this.name : '';\n\n      return '' + this.operationType + nameString + this.variableDefinitions + this.selectionSet;\n    }\n  }, {\n    key: 'isAnonymous',\n    get: function get$$1() {\n      return !this.name;\n    }\n  }]);\n  return Operation;\n}();\n\n/**\n * GraphQL Query class.\n * @extends Operation\n */\n\nvar Query = function (_Operation) {\n  inherits(Query, _Operation);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory functions {@link Client#query} or {@link Document#addQuery} to create a Query.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {String} [name] A name for the query.\n   * @param {Object[]} [variables] A list of variables in the query. See {@link Client#variable}.\n   * @param {Function} selectionSetCallback The query builder callback.\n   *   A {@link SelectionSet} is created using this callback.\n   */\n  function Query(typeBundle) {\n    var _ref;\n\n    classCallCheck(this, Query);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return possibleConstructorReturn(this, (_ref = Query.__proto__ || Object.getPrototypeOf(Query)).call.apply(_ref, [this, typeBundle, 'query'].concat(args)));\n  }\n\n  return Query;\n}(Operation);\n\n/**\n * GraphQL Mutation class.\n * @extends Operation\n */\n\nvar Mutation = function (_Operation) {\n  inherits(Mutation, _Operation);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory functions {@link Client#mutation} or {@link Document#addMutation} to create a Mutation.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {String} [name] A name for the mutation.\n   * @param {Object[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n   * @param {Function} selectionSetCallback The mutation builder callback.\n   *   A {@link SelectionSet} is created using this callback.\n   */\n  function Mutation(typeBundle) {\n    var _ref;\n\n    classCallCheck(this, Mutation);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return possibleConstructorReturn(this, (_ref = Mutation.__proto__ || Object.getPrototypeOf(Mutation)).call.apply(_ref, [this, typeBundle, 'mutation'].concat(args)));\n  }\n\n  return Mutation;\n}(Operation);\n\nfunction isAnonymous(operation) {\n  return operation.isAnonymous;\n}\n\nfunction hasAnonymousOperations(operations) {\n  return operations.some(isAnonymous);\n}\n\nfunction hasDuplicateOperationNames(operations) {\n  var names = operations.map(function (operation) {\n    return operation.name;\n  });\n\n  return names.reduce(function (hasDuplicates, name, index) {\n    return hasDuplicates || names.indexOf(name) !== index;\n  }, false);\n}\n\nfunction extractOperation(typeBundle, operationType) {\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (Operation.prototype.isPrototypeOf(args[0])) {\n    return args[0];\n  }\n\n  if (operationType === 'query') {\n    return new (Function.prototype.bind.apply(Query, [null].concat([typeBundle], args)))();\n  } else {\n    return new (Function.prototype.bind.apply(Mutation, [null].concat([typeBundle], args)))();\n  }\n}\n\nfunction isInvalidOperationCombination(operations) {\n  if (operations.length === 1) {\n    return false;\n  }\n\n  return hasAnonymousOperations(operations) || hasDuplicateOperationNames(operations);\n}\n\nfunction fragmentNameIsNotUnique(existingDefinitions, name) {\n  return existingDefinitions.some(function (definition) {\n    return definition.name === name;\n  });\n}\n\nvar Document = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#document} to create a Document.\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   */\n  function Document(typeBundle) {\n    classCallCheck(this, Document);\n\n    this.typeBundle = typeBundle;\n    this.definitions = [];\n  }\n\n  /**\n   * Returns the GraphQL query string for the Document (e.g. `query queryOne { ... } query queryTwo { ... }`).\n   *\n   * @return {String} The GraphQL query string for the Document.\n   */\n\n  createClass(Document, [{\n    key: 'toString',\n    value: function toString() {\n      return join(this.definitions);\n    }\n\n    /**\n     * Adds an operation to the Document.\n     *\n     * @private\n     * @param {String} operationType The type of the operation. Either 'query' or 'mutation'.\n     * @param {(Operation|String)} [query|queryName] Either an instance of an operation\n     *   object, or the name of an operation. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the operation. See {@link Client#variable}.\n     * @param {Function} [callback] The query builder callback. If an operation\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n      */\n\n  }, {\n    key: 'addOperation',\n    value: function addOperation(operationType) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      var operation = extractOperation.apply(undefined, [this.typeBundle, operationType].concat(args));\n\n      if (isInvalidOperationCombination(this.operations.concat(operation))) {\n        throw new Error('All operations must be uniquely named on a multi-operation document');\n      }\n\n      this.definitions.push(operation);\n    }\n\n    /**\n     * Adds a query to the Document.\n     *\n     * @example\n     * document.addQuery('myQuery', (root) => {\n     *   root.add('cat', (cat) => {\n     *    cat.add('name');\n     *   });\n     * });\n     *\n     * @param {(Query|String)} [query|queryName] Either an instance of a query\n     *   object, or the name of a query. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the query. See {@link Client#variable}.\n     * @param {Function} [callback] The query builder callback. If a query\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n     */\n\n  }, {\n    key: 'addQuery',\n    value: function addQuery() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.addOperation.apply(this, ['query'].concat(args));\n    }\n\n    /**\n     * Adds a mutation to the Document.\n     *\n     * @example\n     * const input = client.variable('input', 'CatCreateInput!');\n     *\n     * document.addMutation('myMutation', [input], (root) => {\n     *   root.add('catCreate', {args: {input}}, (catCreate) => {\n     *     catCreate.add('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {(Mutation|String)} [mutation|mutationName] Either an instance of a mutation\n     *   object, or the name of a mutation. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n     * @param {Function} [callback] The mutation builder callback. If a mutation\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n     */\n\n  }, {\n    key: 'addMutation',\n    value: function addMutation() {\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this.addOperation.apply(this, ['mutation'].concat(args));\n    }\n\n    /**\n     * Defines a fragment on the Document.\n     *\n     * @param {String} name The name of the fragment.\n     * @param {String} onType The type the fragment is on.\n     * @param {Function} [builderFunction] The query builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {FragmentSpread} A {@link FragmentSpread} to be used with {@link SelectionSetBuilder#addFragment}.\n     */\n\n  }, {\n    key: 'defineFragment',\n    value: function defineFragment(name, onType, builderFunction) {\n      if (fragmentNameIsNotUnique(this.fragmentDefinitions, name)) {\n        throw new Error('All fragments must be uniquely named on a multi-fragment document');\n      }\n\n      var selectionSet = new SelectionSet(this.typeBundle, onType, builderFunction);\n      var fragment = new FragmentDefinition(name, onType, selectionSet);\n\n      this.definitions.push(fragment);\n\n      return fragment.spread;\n    }\n\n    /**\n     * All operations ({@link Query} and {@link Mutation}) on the Document.\n     */\n\n  }, {\n    key: 'operations',\n    get: function get$$1() {\n      return this.definitions.filter(function (definition) {\n        return Operation.prototype.isPrototypeOf(definition);\n      });\n    }\n\n    /**\n     * All {@link FragmentDefinition}s on the Document.\n     */\n\n  }, {\n    key: 'fragmentDefinitions',\n    get: function get$$1() {\n      return this.definitions.filter(function (definition) {\n        return FragmentDefinition.prototype.isPrototypeOf(definition);\n      });\n    }\n  }]);\n  return Document;\n}();\n\n/**\n * The base class used when deserializing response data.\n * Provides rich features, like functions to generate queries to refetch a node or fetch the next page.\n *\n * @class\n */\nvar GraphModel =\n\n/**\n * @param {Object} attrs Attributes on the GraphModel.\n */\nfunction GraphModel(attrs) {\n  var _this = this;\n\n  classCallCheck(this, GraphModel);\n\n  Object.defineProperty(this, 'attrs', { value: attrs, enumerable: false });\n\n  Object.keys(this.attrs).filter(function (key) {\n    return !(key in _this);\n  }).forEach(function (key) {\n    var descriptor = void 0;\n\n    if (attrs[key] === null) {\n      descriptor = {\n        enumerable: true,\n        get: function get$$1() {\n          return null;\n        }\n      };\n    } else {\n      descriptor = {\n        enumerable: true,\n        get: function get$$1() {\n          return this.attrs[key].valueOf();\n        }\n      };\n    }\n    Object.defineProperty(_this, key, descriptor);\n  });\n};\n\n/**\n * A registry of classes used to deserialize the response data. Uses {@link GraphModel} by default.\n */\n\nvar ClassRegistry = function () {\n  function ClassRegistry() {\n    classCallCheck(this, ClassRegistry);\n\n    this.classStore = {};\n  }\n\n  /**\n   * Registers a class for a GraphQL type in the registry.\n   *\n   * @param {Class} constructor The constructor of the class.\n   * @param {String} type The GraphQL type of the object to deserialize into the class.\n   */\n\n  createClass(ClassRegistry, [{\n    key: 'registerClassForType',\n    value: function registerClassForType(constructor, type) {\n      this.classStore[type] = constructor;\n    }\n\n    /**\n     * Unregisters a class for a GraphQL type in the registry.\n     *\n     * @param {String} type The GraphQL type to unregister.\n     */\n\n  }, {\n    key: 'unregisterClassForType',\n    value: function unregisterClassForType(type) {\n      delete this.classStore[type];\n    }\n\n    /**\n     * Returns the class for the given GraphQL type.\n     *\n     * @param {String} type The GraphQL type to look up.\n     * @return {Class|GraphModel} The class for the given GraphQL type. Defaults to {@link GraphModel} if no class is registered for the GraphQL type.\n     */\n\n  }, {\n    key: 'classForType',\n    value: function classForType(type) {\n      return this.classStore[type] || GraphModel;\n    }\n  }]);\n  return ClassRegistry;\n}();\n\nfunction isValue(arg) {\n  return Object.prototype.toString.call(arg) !== '[object Null]' && Object.prototype.toString.call(arg) !== '[object Undefined]';\n}\n\nfunction isNodeContext(context) {\n  return context.selection.selectionSet.typeSchema.implementsNode;\n}\n\nfunction isConnection(context) {\n  return context.selection.selectionSet.typeSchema.name.endsWith('Connection');\n}\n\nfunction nearestNode(context) {\n  if (context == null) {\n    return null;\n  } else if (isNodeContext(context)) {\n    return context;\n  } else {\n    return nearestNode(context.parent);\n  }\n}\n\nfunction contextsFromRoot(context) {\n  if (context.parent) {\n    return contextsFromRoot(context.parent).concat(context);\n  } else {\n    return [context];\n  }\n}\n\nfunction contextsFromNearestNode(context) {\n  if (context.selection.selectionSet.typeSchema.implementsNode) {\n    return [context];\n  } else {\n    return contextsFromNearestNode(context.parent).concat(context);\n  }\n}\n\nfunction initializeDocumentAndVars(currentContext, contextChain) {\n  var lastInChain = contextChain[contextChain.length - 1];\n  var first = lastInChain.selection.args.first;\n  var variableDefinitions = Object.keys(lastInChain.selection.args).filter(function (key) {\n    return isVariable(lastInChain.selection.args[key]);\n  }).map(function (key) {\n    return lastInChain.selection.args[key];\n  });\n\n  var firstVar = variableDefinitions.find(function (definition) {\n    return definition.name === 'first';\n  });\n\n  if (!firstVar) {\n    firstVar = variable('first', 'Int', first);\n    variableDefinitions.push(firstVar);\n  }\n\n  var document = new Document(currentContext.selection.selectionSet.typeBundle);\n\n  return [document, variableDefinitions, firstVar];\n}\n\nfunction addNextFieldTo(currentSelection, contextChain, path, cursor) {\n  // There are always at least two. When we start, it's the root context, and the first set\n  var nextContext = contextChain.shift();\n\n  path.push(nextContext.selection.responseKey);\n\n  if (contextChain.length) {\n    currentSelection.add(nextContext.selection.name, { alias: nextContext.selection.alias, args: nextContext.selection.args }, function (newSelection) {\n      addNextFieldTo(newSelection, contextChain, path, cursor);\n    });\n  } else {\n    var edgesField = nextContext.selection.selectionSet.selections.find(function (field) {\n      return field.name === 'edges';\n    });\n    var nodeField = edgesField.selectionSet.selections.find(function (field) {\n      return field.name === 'node';\n    });\n    var first = void 0;\n\n    if (isVariable(nextContext.selection.args.first)) {\n      first = nextContext.selection.args.first;\n    } else {\n      first = variable('first', 'Int', nextContext.selection.args.first);\n    }\n\n    var options = {\n      alias: nextContext.selection.alias,\n      args: Object.assign({}, nextContext.selection.args, { after: cursor, first: first })\n    };\n\n    currentSelection.addConnection(nextContext.selection.name, options, nodeField.selectionSet);\n  }\n}\n\nfunction collectFragments(selections) {\n  return selections.reduce(function (fragmentDefinitions, field) {\n    if (FragmentSpread.prototype.isPrototypeOf(field)) {\n      fragmentDefinitions.push(field.toDefinition());\n    }\n\n    fragmentDefinitions.push.apply(fragmentDefinitions, toConsumableArray(collectFragments(field.selectionSet.selections)));\n\n    return fragmentDefinitions;\n  }, []);\n}\n\nfunction nextPageQueryAndPath(context, cursor) {\n  var nearestNodeContext = nearestNode(context);\n\n  if (nearestNodeContext) {\n    return function () {\n      var _document$definitions;\n\n      var path = [];\n      var nodeType = nearestNodeContext.selection.selectionSet.typeSchema;\n      var nodeId = nearestNodeContext.responseData.id;\n      var contextChain = contextsFromNearestNode(context);\n\n      var _initializeDocumentAn = initializeDocumentAndVars(context, contextChain),\n          _initializeDocumentAn2 = slicedToArray(_initializeDocumentAn, 2),\n          document = _initializeDocumentAn2[0],\n          variableDefinitions = _initializeDocumentAn2[1];\n\n      document.addQuery(variableDefinitions, function (root) {\n        path.push('node');\n        root.add('node', { args: { id: nodeId } }, function (node) {\n          node.addInlineFragmentOn(nodeType.name, function (fragment) {\n            addNextFieldTo(fragment, contextChain.slice(1), path, cursor);\n          });\n        });\n      });\n\n      var fragments = collectFragments(document.operations[0].selectionSet.selections);\n\n      (_document$definitions = document.definitions).unshift.apply(_document$definitions, toConsumableArray(fragments));\n\n      return [document, path];\n    };\n  } else {\n    return function () {\n      var _document$definitions2;\n\n      var path = [];\n      var contextChain = contextsFromRoot(context);\n\n      var _initializeDocumentAn3 = initializeDocumentAndVars(context, contextChain),\n          _initializeDocumentAn4 = slicedToArray(_initializeDocumentAn3, 2),\n          document = _initializeDocumentAn4[0],\n          variableDefinitions = _initializeDocumentAn4[1];\n\n      document.addQuery(variableDefinitions, function (root) {\n        addNextFieldTo(root, contextChain.slice(1), path, cursor);\n      });\n\n      var fragments = collectFragments(document.operations[0].selectionSet.selections);\n\n      (_document$definitions2 = document.definitions).unshift.apply(_document$definitions2, toConsumableArray(fragments));\n\n      return [document, path];\n    };\n  }\n}\n\nfunction hasNextPage$1(connection, edge) {\n  if (edge !== connection.edges[connection.edges.length - 1]) {\n    return new Scalar(true);\n  }\n\n  return connection.pageInfo.hasNextPage;\n}\n\nfunction hasPreviousPage(connection, edge) {\n  if (edge !== connection.edges[0]) {\n    return new Scalar(true);\n  }\n\n  return connection.pageInfo.hasPreviousPage;\n}\n\nfunction transformConnections(variableValues) {\n  return function (context, value) {\n    if (isConnection(context)) {\n      if (!(value.pageInfo && value.pageInfo.hasOwnProperty('hasNextPage') && value.pageInfo.hasOwnProperty('hasPreviousPage'))) {\n        throw new Error('Connections must include the selections \"pageInfo { hasNextPage, hasPreviousPage }\".');\n      }\n\n      return value.edges.map(function (edge) {\n        return Object.assign(edge.node, {\n          nextPageQueryAndPath: nextPageQueryAndPath(context, edge.cursor),\n          hasNextPage: hasNextPage$1(value, edge),\n          hasPreviousPage: hasPreviousPage(value, edge),\n          variableValues: variableValues\n        });\n      });\n    } else {\n      return value;\n    }\n  };\n}\n\n/* eslint-disable no-warning-comments */\nvar DecodingContext = function () {\n  function DecodingContext(selection, responseData) {\n    var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    classCallCheck(this, DecodingContext);\n\n    this.selection = selection;\n    this.responseData = responseData;\n    this.parent = parent;\n    Object.freeze(this);\n  }\n\n  createClass(DecodingContext, [{\n    key: 'contextForObjectProperty',\n    value: function contextForObjectProperty(responseKey) {\n      var nestedSelections = this.selection.selectionSet.selectionsByResponseKey[responseKey];\n      var nextSelection = nestedSelections && nestedSelections[0];\n      var nextContext = void 0;\n\n      // fragment spreads operate inside the current context, so we recurse to get the proper\n      // selection set, but retain the current response context\n      if (Spread.prototype.isPrototypeOf(nextSelection)) {\n        nextContext = new DecodingContext(nextSelection, this.responseData, this.parent);\n      } else {\n        nextContext = new DecodingContext(nextSelection, this.responseData[responseKey], this);\n      }\n\n      if (!nextSelection) {\n        throw new Error('Unexpected response key \"' + responseKey + '\", not found in selection set: ' + this.selection.selectionSet);\n      }\n\n      if (Field.prototype.isPrototypeOf(nextSelection)) {\n        return nextContext;\n      } else {\n        return nextContext.contextForObjectProperty(responseKey);\n      }\n    }\n  }, {\n    key: 'contextForArrayItem',\n    value: function contextForArrayItem(item) {\n      return new DecodingContext(this.selection, item, this.parent);\n    }\n  }]);\n  return DecodingContext;\n}();\n\nfunction decodeArrayItems(context, transformers) {\n  return context.responseData.map(function (item) {\n    return decodeContext(context.contextForArrayItem(item), transformers);\n  });\n}\n\nfunction decodeObjectValues(context, transformers) {\n  return Object.keys(context.responseData).reduce(function (acc, responseKey) {\n    acc[responseKey] = decodeContext(context.contextForObjectProperty(responseKey), transformers);\n\n    return acc;\n  }, {});\n}\n\nfunction runTransformers(transformers, context, value) {\n  return transformers.reduce(function (acc, transformer) {\n    return transformer(context, acc);\n  }, value);\n}\n\nfunction decodeContext(context, transformers) {\n  var value = context.responseData;\n\n  if (Array.isArray(value)) {\n    value = decodeArrayItems(context, transformers);\n  } else if (isObject(value)) {\n    value = decodeObjectValues(context, transformers);\n  }\n\n  return runTransformers(transformers, context, value);\n}\n\nfunction generateRefetchQueries(context, value) {\n  if (isValue(value) && isNodeContext(context)) {\n    value.refetchQuery = function () {\n      return new Query(context.selection.selectionSet.typeBundle, function (root) {\n        root.add('node', { args: { id: context.responseData.id } }, function (node) {\n          node.addInlineFragmentOn(context.selection.selectionSet.typeSchema.name, context.selection.selectionSet);\n        });\n      });\n    };\n  }\n\n  return value;\n}\n\nfunction transformPojosToClassesWithRegistry(classRegistry) {\n  return function transformPojosToClasses(context, value) {\n    if (isObject(value)) {\n      var Klass = classRegistry.classForType(context.selection.selectionSet.typeSchema.name);\n\n      return new Klass(value);\n    } else {\n      return value;\n    }\n  };\n}\n\nfunction transformScalars(context, value) {\n  if (isValue(value)) {\n    if (context.selection.selectionSet.typeSchema.kind === 'SCALAR') {\n      return new Scalar(value);\n    } else if (context.selection.selectionSet.typeSchema.kind === 'ENUM') {\n      return new Enum(value);\n    }\n  }\n\n  return value;\n}\n\nfunction recordTypeInformation(context, value) {\n  if (isValue(value)) {\n    if (value.__typename) {\n      value.type = schemaForType(context.selection.selectionSet.typeBundle, value.__typename);\n    } else {\n      value.type = context.selection.selectionSet.typeSchema;\n    }\n  }\n\n  return value;\n}\n\nfunction defaultTransformers(_ref) {\n  var _ref$classRegistry = _ref.classRegistry,\n      classRegistry = _ref$classRegistry === undefined ? new ClassRegistry() : _ref$classRegistry,\n      variableValues = _ref.variableValues;\n\n  return [transformScalars, generateRefetchQueries, transformConnections(variableValues), recordTypeInformation, transformPojosToClassesWithRegistry(classRegistry)];\n}\n\n/**\n * A function used to decode the response data.\n *\n * @function decode\n * @param {SelectionSet} selection The selection set used to query the response data.\n * @param {Object} responseData The response data returned.\n * @param {Object} [options] Options to use when decoding including:\n *   @param {ClassRegistry} [options.classRegistry] A class registry to use when deserializing the data into classes.\n * @return {GraphModel} The decoded response data.\n */\nfunction decode(selection, responseData) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var transformers = options.transformers || defaultTransformers(options);\n  var context = new DecodingContext(selection, responseData);\n\n  return decodeContext(context, transformers);\n}\n\nfunction httpFetcher(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return function fetcher(graphQLParams) {\n    return fetch(url, _extends({\n      body: JSON.stringify(graphQLParams),\n      method: 'POST',\n      mode: 'cors'\n    }, options, {\n      headers: _extends({\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }, options.headers)\n    })).then(function (response) {\n      return response.json();\n    });\n  };\n}\n\nfunction hasNextPage(paginatedModels) {\n  return paginatedModels && paginatedModels.length && paginatedModels[paginatedModels.length - 1].hasNextPage;\n}\n\n/**\n * The Client class used to create and send GraphQL documents, fragments, queries and mutations.\n */\n\nvar Client$2 = function () {\n\n  /**\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {Object} options An options object. Must include either `url` and optional `fetcherOptions` OR a `fetcher` function.\n   *   @param {(String|Function)} options.url|fetcher Either the URL of the GraphQL API endpoint, or a custom fetcher function for further customization.\n   *   @param {Object} [options.fetcherOptions] Additional options to use with `fetch`, like headers. Do not specify this argument if `fetcher` is specified.\n   *   @param {ClassRegistry} [options.registry=new ClassRegistry()] A {@link ClassRegistry} used to decode the response data.\n   */\n  function Client(typeBundle, _ref) {\n    var url = _ref.url,\n        fetcherOptions = _ref.fetcherOptions,\n        fetcher = _ref.fetcher,\n        _ref$registry = _ref.registry,\n        registry = _ref$registry === undefined ? new ClassRegistry() : _ref$registry;\n    classCallCheck(this, Client);\n\n    this.typeBundle = typeBundle;\n    this.classRegistry = registry;\n\n    if (url && fetcher) {\n      throw new Error('Arguments not supported: supply either `url` and optional `fetcherOptions` OR use a `fetcher` function for further customization.');\n    }\n\n    if (url) {\n      this.fetcher = httpFetcher(url, fetcherOptions);\n    } else if (fetcher) {\n      if (fetcherOptions) {\n        throw new Error('Arguments not supported: when specifying your own `fetcher`, set options through it and not with `fetcherOptions`');\n      }\n\n      this.fetcher = fetcher;\n    } else {\n      throw new Error('Invalid arguments: one of `url` or `fetcher` is needed.');\n    }\n  }\n\n  /**\n   * Creates a GraphQL document.\n   *\n   * @example\n   * const document = client.document();\n   *\n   * @return {Document} A GraphQL document.\n   */\n\n  createClass(Client, [{\n    key: 'document',\n    value: function document() {\n      return new Document(this.typeBundle);\n    }\n\n    /**\n     * Creates a GraphQL query.\n     *\n     * @example\n     * const query = client.query('myQuery', (root) => {\n     *   root.add('cat', (cat) => {\n     *    cat.add('name');\n     *   });\n     * });\n     *\n     * @param {String} [name] A name for the query.\n     * @param {VariableDefinition[]} [variables] A list of variables in the query. See {@link Client#variable}.\n     * @param {Function} selectionSetCallback The query builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {Query} A GraphQL query.\n     */\n\n  }, {\n    key: 'query',\n    value: function query() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return new (Function.prototype.bind.apply(Query, [null].concat([this.typeBundle], args)))();\n    }\n\n    /**\n     * Creates a GraphQL mutation.\n     *\n     * @example\n     * const input = client.variable('input', 'CatCreateInput!');\n     *\n     * const mutation = client.mutation('myMutation', [input], (root) => {\n     *   root.add('catCreate', {args: {input}}, (catCreate) => {\n     *     catCreate.add('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String} [name] A name for the mutation.\n     * @param {VariableDefinition[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n     * @param {Function} selectionSetCallback The mutation builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {Mutation} A GraphQL mutation.\n     */\n\n  }, {\n    key: 'mutation',\n    value: function mutation() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return new (Function.prototype.bind.apply(Mutation, [null].concat([this.typeBundle], args)))();\n    }\n\n    /**\n     * Sends a GraphQL operation (query or mutation) or a document.\n     *\n     * @example\n     * client.send(query, {id: '12345'}).then((result) => {\n     *   // Do something with the returned result\n     *   console.log(result);\n     * });\n     *\n     * @param {(Query|Mutation|Document|Function)} request The operation or document to send. If represented\n     * as a function, it must return `Query`, `Mutation`, or `Document` and recieve the client as the only param.\n     * @param {Object} [variableValues] The values for variables in the operation or document.\n     * @param {Object} [otherProperties] Other properties to send with the query. For example, a custom operation name.\n     * @return {Promise.<Object>} A promise resolving to an object containing the response data.\n     */\n\n  }, {\n    key: 'send',\n    value: function send(request) {\n      var _this = this;\n\n      var variableValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var otherProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var operationOrDocument = void 0;\n\n      if (Function.prototype.isPrototypeOf(request)) {\n        operationOrDocument = request(this);\n      } else {\n        operationOrDocument = request;\n      }\n\n      var graphQLParams = { query: operationOrDocument.toString() };\n\n      if (variableValues) {\n        graphQLParams.variables = variableValues;\n      }\n\n      Object.assign(graphQLParams, otherProperties);\n\n      var operation = void 0;\n\n      if (Operation.prototype.isPrototypeOf(operationOrDocument)) {\n        operation = operationOrDocument;\n      } else {\n        var document = operationOrDocument;\n\n        if (document.operations.length === 1) {\n          operation = document.operations[0];\n        } else if (otherProperties.operationName) {\n          operation = document.operations.find(function (documentOperation) {\n            return documentOperation.name === otherProperties.operationName;\n          });\n        } else {\n          throw new Error('\\n          A document must contain exactly one operation, or an operationName\\n          must be specified. Example:\\n\\n            client.send(document, null, {operationName: \\'myFancyQuery\\'});\\n        ');\n        }\n      }\n\n      return this.fetcher(graphQLParams).then(function (response) {\n        if (response.data) {\n          response.model = decode(operation, response.data, {\n            classRegistry: _this.classRegistry,\n            variableValues: variableValues\n          });\n        }\n\n        return response;\n      });\n    }\n\n    /**\n     * Fetches the next page of a paginated node or array of nodes.\n     *\n     * @example\n     * client.fetchNextPage(node, {first: 10}).then((result) => {\n     *   // Do something with the next page\n     *   console.log(result);\n     * });\n     *\n     * @param {(GraphModel|GraphModel[])} nodeOrNodes The node or list of nodes on which to fetch the next page.\n     * @param {Object} [options] Options object containing:\n     *   @param {Integer} [options.first] The number of nodes to query on the next page. Defaults to the page size of the previous query.\n     * @return {Promise.<GraphModel[]>} A promise resolving with the next page of {@link GraphModel}s.\n     */\n\n  }, {\n    key: 'fetchNextPage',\n    value: function fetchNextPage(nodeOrNodes, options) {\n      var node = void 0;\n\n      if (Array.isArray(nodeOrNodes)) {\n        node = nodeOrNodes[nodeOrNodes.length - 1];\n      } else {\n        node = nodeOrNodes;\n      }\n\n      var _node$nextPageQueryAn = node.nextPageQueryAndPath(),\n          _node$nextPageQueryAn2 = slicedToArray(_node$nextPageQueryAn, 2),\n          query = _node$nextPageQueryAn2[0],\n          path = _node$nextPageQueryAn2[1];\n\n      var variableValues = void 0;\n\n      if (node.variableValues || options) {\n        variableValues = Object.assign({}, node.variableValues, options);\n      }\n\n      return this.send(query, variableValues).then(function (response) {\n        response.model = path.reduce(function (object, key) {\n          return object[key];\n        }, response.model);\n\n        return response;\n      });\n    }\n\n    /**\n     * Fetches all subsequent pages of a paginated array of nodes.\n     *\n     * @example\n     * client.fetchAllPages(nodes, {pageSize: 20}).then((result) => {\n     *   // Do something with all the models\n     *   console.log(result);\n     * });\n     *\n     * @param {GraphModel[]} paginatedModels The list of nodes on which to fetch all pages.\n     * @param {Object} options Options object containing:\n     *   @param {Integer} options.pageSize The number of nodes to query on each page.\n     * @return {Promise.<GraphModel[]>} A promise resolving with all pages of {@link GraphModel}s, including the original list.\n     */\n\n  }, {\n    key: 'fetchAllPages',\n    value: function fetchAllPages(paginatedModels, _ref2) {\n      var _this2 = this;\n\n      var pageSize = _ref2.pageSize;\n\n      if (hasNextPage(paginatedModels)) {\n        return this.fetchNextPage(paginatedModels, { first: pageSize }).then(function (_ref3) {\n          var model = _ref3.model;\n\n          var pages = paginatedModels.concat(model);\n\n          return _this2.fetchAllPages(pages, { pageSize: pageSize });\n        });\n      }\n\n      return Promise.resolve(paginatedModels);\n    }\n\n    /**\n     * Refetches a {@link GraphModel} whose type implements `Node`.\n     *\n     * @example\n     * client.refetch(node).then((result) => {\n     *   // Do something with the refetched node\n     *   console.log(result);\n     * });\n     *\n     * @param {GraphModel} nodeType A {@link GraphModel} whose type implements `Node`.\n     * @return {Promise.<GraphModel>} The refetched {@link GraphModel}.\n     */\n\n  }, {\n    key: 'refetch',\n    value: function refetch(nodeType) {\n      if (!nodeType) {\n        throw new Error('\\'client#refetch\\' must be called with a non-null instance of a Node.');\n      } else if (!nodeType.type.implementsNode) {\n        throw new Error('\\'client#refetch\\' must be called with a type that implements Node. Received ' + nodeType.type.name + '.');\n      }\n\n      return this.send(nodeType.refetchQuery()).then(function (_ref4) {\n        var model = _ref4.model;\n        return model.node;\n      });\n    }\n\n    /**\n     * Creates a variable to be used in a {@link Query} or {@link Mutation}.\n     *\n     * @example\n     * const idVariable = client.variable('id', 'ID!', '12345');\n     *\n     * @param {String} name The name of the variable.\n     * @param {String} type The GraphQL type of the variable.\n     * @param {*} [defaultValue] The default value of the variable.\n     * @return {VariableDefinition} A variable object that can be used in a {@link Query} or {@link Mutation}.\n     */\n\n  }, {\n    key: 'variable',\n    value: function variable$$1(name, type, defaultValue) {\n      return variable(name, type, defaultValue);\n    }\n\n    /**\n     * Creates an enum to be used in a {@link Query} or {@link Mutation}.\n     *\n     * @example\n     * const titleEnum = client.enum('TITLE');\n     *\n     * @param {String} key The key of the enum.\n     * @return {Enum} An enum object that can be used in a {@link Query} or {@link Mutation}.\n     */\n\n  }, {\n    key: 'enum',\n    value: function _enum(key) {\n      return enumFunction(key);\n    }\n  }]);\n  return Client;\n}();\n\n/**\n * The class used to configure the JS Buy SDK Client.\n * @class\n */\nvar Config = function () {\n  createClass$1(Config, [{\n    key: 'requiredProperties',\n\n\n    /**\n     * Properties that must be set on initializations\n     * @attribute requiredProperties\n     * @default ['storefrontAccessToken', 'domain']\n     * @type Array\n     * @private\n     */\n    get: function get$$1() {\n      return ['storefrontAccessToken', 'domain'];\n    }\n\n    /**\n     * Deprecated properties that map directly to required properties\n     * @attribute deprecatedProperties\n     * @default {'accessToken': 'storefrontAccessToken', 'apiKey': 'storefrontAccessToken'}\n     * @type Object\n     * @private\n     */\n\n  }, {\n    key: 'deprecatedProperties',\n    get: function get$$1() {\n      return {\n        accessToken: 'storefrontAccessToken',\n        apiKey: 'storefrontAccessToken'\n      };\n    }\n\n    /**\n     * @constructs Config\n     * @param {Object} attrs An object specifying the configuration. Requires the following properties:\n     *   @param {String} attrs.storefrontAccessToken The {@link https://help.shopify.com/api/reference/storefront_access_token|Storefront access token} for the shop.\n     *   @param {String} attrs.domain The `myshopify` domain for the shop (e.g. `graphql.myshopify.com`).\n     */\n\n  }]);\n\n  function Config(attrs) {\n    var _this = this;\n\n    classCallCheck$1(this, Config);\n\n    Object.keys(this.deprecatedProperties).forEach(function (key) {\n      if (!attrs.hasOwnProperty(key)) {\n        return;\n      }\n      // eslint-disable-next-line no-console\n      console.warn('[ShopifyBuy] Config property ' + key + ' is deprecated as of v1.0, please use ' + _this.deprecatedProperties[key] + ' instead.');\n      attrs[_this.deprecatedProperties[key]] = attrs[key];\n    });\n\n    this.requiredProperties.forEach(function (key) {\n      if (attrs.hasOwnProperty(key)) {\n        _this[key] = attrs[key];\n      } else {\n        throw new Error('new Config() requires the option \\'' + key + '\\'');\n      }\n    });\n  }\n\n  return Config;\n}();\n\nvar Resource = function Resource(client) {\n  classCallCheck$1(this, Resource);\n\n  this.graphQLClient = client;\n};\n\nvar defaultErrors = [{ message: 'an unknown error has occured.' }];\n\nfunction defaultResolver(path) {\n  var keys = path.split('.');\n\n  return function (_ref) {\n    var model = _ref.model,\n        errors = _ref.errors;\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var result = keys.reduce(function (ref, key) {\n          return ref[key];\n        }, model);\n\n        resolve(result);\n      } catch (_) {\n        if (errors) {\n          reject(errors);\n        } else {\n          reject(defaultErrors);\n        }\n      }\n    });\n  };\n}\n\nfunction fetchResourcesForProducts(productOrProduct, client) {\n  var products = [].concat(productOrProduct);\n\n  return Promise.all(products.reduce(function (promiseAcc, product) {\n    // Fetch the rest of the images and variants for this product\n    promiseAcc.push(client.fetchAllPages(product.images, { pageSize: 250 }).then(function (images) {\n      product.attrs.images = images;\n    }));\n\n    promiseAcc.push(client.fetchAllPages(product.variants, { pageSize: 250 }).then(function (variants) {\n      product.attrs.variants = variants;\n    }));\n\n    return promiseAcc;\n  }, []));\n}\n\nfunction paginateProductConnectionsAndResolve(client) {\n  return function (products) {\n    return fetchResourcesForProducts(products, client).then(function () {\n      return products;\n    });\n  };\n}\n\nfunction paginateCollectionsProductConnectionsAndResolve(client) {\n  return function (collectionOrCollections) {\n    var collections = [].concat(collectionOrCollections);\n\n    return Promise.all(collections.reduce(function (promiseAcc, collection) {\n      return promiseAcc.concat(fetchResourcesForProducts(collection.products, client));\n    }, [])).then(function () {\n      return collectionOrCollections;\n    });\n  };\n}\n\n/**\n * @namespace ProductHelpers\n */\nvar productHelpers = {\n\n  /**\n   * Returns the variant of a product corresponding to the options given.\n   *\n   * @example\n   * const selectedVariant = client.product.variantForOptions(product, {\n   *   size: \"Small\",\n   *   color: \"Red\"\n   * });\n   *\n   * @memberof ProductHelpers\n   * @method variantForOptions\n   * @param {GraphModel} product The product to find the variant on. Must include `variants`.\n   * @param {Object} options An object containing the options for the variant.\n   * @return {GraphModel} The variant corresponding to the options given.\n   */\n  variantForOptions: function variantForOptions(product, options) {\n    return product.variants.find(function (variant) {\n      return variant.selectedOptions.every(function (selectedOption) {\n        return options[selectedOption.name] === selectedOption.value.valueOf();\n      });\n    });\n  }\n};\n\nfunction query(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$1(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.ids = client.variable(\"ids\", \"[ID!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.ids], function (root) {\n    root.add(\"nodes\", {\n      args: {\n        ids: variables.__defaultOperation__.ids\n      }\n    }, function (nodes) {\n      nodes.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$2(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"ProductSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"products\", {\n        args: {\n          first: variables.__defaultOperation__.first,\n          query: variables.__defaultOperation__.query,\n          sortKey: variables.__defaultOperation__.sortKey,\n          reverse: variables.__defaultOperation__.reverse\n        }\n      }, function (products) {\n        products.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        products.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.addFragment(spreads.ProductFragment);\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$3(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.handle = client.variable(\"handle\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.handle], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"productByHandle\", {\n        args: {\n          handle: variables.__defaultOperation__.handle\n        }\n      }, function (productByHandle) {\n        productByHandle.addFragment(spreads.ProductFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK product resource\n * @class\n */\n\nvar ProductResource = function (_Resource) {\n  inherits$1(ProductResource, _Resource);\n\n  function ProductResource() {\n    classCallCheck$1(this, ProductResource);\n    return possibleConstructorReturn$1(this, (ProductResource.__proto__ || Object.getPrototypeOf(ProductResource)).apply(this, arguments));\n  }\n\n  createClass$1(ProductResource, [{\n    key: 'fetchAll',\n\n\n    /**\n     * Fetches all products on the shop.\n     *\n     * @example\n     * client.product.fetchAll().then((products) => {\n     *   // Do something with the products\n     * });\n     *\n     * @param {Int} [pageSize] The number of products to fetch per page\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the products.\n     */\n    value: function fetchAll() {\n      var first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n\n      return this.graphQLClient.send(query$2, { first: first }).then(defaultResolver('shop.products')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single product by ID on the shop.\n     *\n     * @example\n     * client.product.fetch('Xk9lM2JkNzFmNzIQ4NTIY4ZDFi9DaGVja291dC9lM2JkN==').then((product) => {\n     *   // Do something with the product\n     * });\n     *\n     * @param {String} id The id of the product to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function fetch(id) {\n      return this.graphQLClient.send(query, { id: id }).then(defaultResolver('node')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches multiple products by ID on the shop.\n     *\n     * @example\n     * const ids = ['Xk9lM2JkNzFmNzIQ4NTIY4ZDFi9DaGVja291dC9lM2JkN==', 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0Lzc4NTc5ODkzODQ='];\n     * client.product.fetchMultiple(ids).then((products) => {\n     *   // Do something with the products\n     * });\n     *\n     * @param {String[]} ids The ids of the products to fetch\n     * @return {Promise|GraphModel[]} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetchMultiple',\n    value: function fetchMultiple(ids) {\n      return this.graphQLClient.send(query$1, { ids: ids }).then(defaultResolver('nodes')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single product by handle on the shop.\n     *\n     * @example\n     * client.product.fetchByHandle('my-product').then((product) => {\n     *   // Do something with the product\n     * });\n     *\n     * @param {String} handle The handle of the product to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetchByHandle',\n    value: function fetchByHandle(handle) {\n      return this.graphQLClient.send(query$3, { handle: handle }).then(defaultResolver('shop.productByHandle')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches all products on the shop that match the query.\n     *\n     * @example\n     * client.product.fetchQuery({first: 20, sortKey: 'CREATED_AT', reverse: true}).then((products) => {\n     *   // Do something with the first 10 products sorted by title in ascending order\n     * });\n     *\n     * @param {Object} [args] An object specifying the query data containing zero or more of:\n     *   @param {Int} [args.first=20] The relay `first` param. This specifies page size.\n     *   @param {String} [args.sortKey=ID] The key to sort results by. Available values are\n     *   documented as {@link https://help.shopify.com/api/storefront-api/reference/enum/productsortkeys|Product Sort Keys}.\n     *   @param {String} [args.query] A query string. See full documentation {@link https://help.shopify.com/api/storefront-api/reference/object/shop#products|here}\n     *   @param {Boolean} [args.reverse] Whether or not to reverse the sort order of the results\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the products.\n     */\n\n  }, {\n    key: 'fetchQuery',\n    value: function fetchQuery() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$first = _ref.first,\n          first = _ref$first === undefined ? 20 : _ref$first,\n          _ref$sortKey = _ref.sortKey,\n          sortKey = _ref$sortKey === undefined ? 'ID' : _ref$sortKey,\n          query$$1 = _ref.query,\n          reverse = _ref.reverse;\n\n      return this.graphQLClient.send(query$2, {\n        first: first,\n        sortKey: sortKey,\n        query: query$$1,\n        reverse: reverse\n      }).then(defaultResolver('shop.products')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n  }, {\n    key: 'helpers',\n    get: function get$$1() {\n      return productHelpers;\n    }\n  }]);\n  return ProductResource;\n}(Resource);\n\nfunction query$4(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CollectionFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$5(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  spreads.CollectionsProductsFragment = document.defineFragment(\"CollectionsProductsFragment\", \"Collection\", function (root) {\n    root.add(\"products\", {\n      args: {\n        first: 20\n      }\n    }, function (products) {\n      products.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      products.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.ProductFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CollectionFragment);\n      node.addFragment(spreads.CollectionsProductsFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$6(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"CollectionSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"collections\", {\n        args: {\n          first: variables.__defaultOperation__.first,\n          query: variables.__defaultOperation__.query,\n          sortKey: variables.__defaultOperation__.sortKey,\n          reverse: variables.__defaultOperation__.reverse\n        }\n      }, function (collections) {\n        collections.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        collections.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.addFragment(spreads.CollectionFragment);\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$7(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"CollectionSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  variables.__defaultOperation__.productsFirst = client.variable(\"productsFirst\", \"Int!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse, variables.__defaultOperation__.productsFirst], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"collections\", {\n        args: {\n          first: variables.__defaultOperation__.first,\n          query: variables.__defaultOperation__.query,\n          sortKey: variables.__defaultOperation__.sortKey,\n          reverse: variables.__defaultOperation__.reverse\n        }\n      }, function (collections) {\n        collections.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        collections.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.addFragment(spreads.CollectionFragment);\n            node.add(\"products\", {\n              args: {\n                first: variables.__defaultOperation__.productsFirst\n              }\n            }, function (products) {\n              products.add(\"pageInfo\", function (pageInfo) {\n                pageInfo.add(\"hasNextPage\");\n                pageInfo.add(\"hasPreviousPage\");\n              });\n              products.add(\"edges\", function (edges) {\n                edges.add(\"cursor\");\n                edges.add(\"node\", function (node) {\n                  node.addFragment(spreads.ProductFragment);\n                });\n              });\n            });\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$8(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.handle = client.variable(\"handle\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  spreads.CollectionsProductsFragment = document.defineFragment(\"CollectionsProductsFragment\", \"Collection\", function (root) {\n    root.add(\"products\", {\n      args: {\n        first: 20\n      }\n    }, function (products) {\n      products.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      products.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.ProductFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.handle], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"collectionByHandle\", {\n        args: {\n          handle: variables.__defaultOperation__.handle\n        }\n      }, function (collectionByHandle) {\n        collectionByHandle.addFragment(spreads.CollectionFragment);\n        collectionByHandle.addFragment(spreads.CollectionsProductsFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK collection resource\n * @class\n */\n\nvar CollectionResource = function (_Resource) {\n  inherits$1(CollectionResource, _Resource);\n\n  function CollectionResource() {\n    classCallCheck$1(this, CollectionResource);\n    return possibleConstructorReturn$1(this, (CollectionResource.__proto__ || Object.getPrototypeOf(CollectionResource)).apply(this, arguments));\n  }\n\n  createClass$1(CollectionResource, [{\n    key: 'fetchAll',\n\n\n    /**\n     * Fetches all collections on the shop, not including products.\n     * To fetch collections with products use [fetchAllsWithProducts]{@link Client#fetchAllsWithProducts}.\n     *\n     * @example\n     * client.collection.fetchAll().then((collections) => {\n     *   // Do something with the collections\n     * });\n     *\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n    value: function fetchAll() {\n      var first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n\n      return this.graphQLClient.send(query$6, { first: first }).then(defaultResolver('shop.collections'));\n    }\n\n    /**\n     * Fetches all collections on the shop, including products.\n     *\n     * @example\n     * client.collection.fetchAllWithProducts().then((collections) => {\n     *   // Do something with the collections\n     * });\n     *\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n\n  }, {\n    key: 'fetchAllWithProducts',\n    value: function fetchAllWithProducts() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$first = _ref.first,\n          first = _ref$first === undefined ? 20 : _ref$first,\n          _ref$productsFirst = _ref.productsFirst,\n          productsFirst = _ref$productsFirst === undefined ? 20 : _ref$productsFirst;\n\n      return this.graphQLClient.send(query$7, { first: first, productsFirst: productsFirst }).then(defaultResolver('shop.collections')).then(paginateCollectionsProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single collection by ID on the shop, not including products.\n     * To fetch the collection with products use [fetchWithProducts]{@link Client#fetchWithProducts}.\n     *\n     * @example\n     * client.collection.fetch('Xk9lM2JkNzFmNzIQ4NTIY4ZDFiZTUyZTUwNTE2MDNhZjg==').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} id The id of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function fetch(id) {\n      return this.graphQLClient.send(query$4, { id: id }).then(defaultResolver('node'));\n    }\n\n    /**\n     * Fetches a single collection by ID on the shop, including products.\n     *\n     * @example\n     * client.collection.fetchWithProducts('Xk9lM2JkNzFmNzIQ4NTIY4ZDFiZTUyZTUwNTE2MDNhZjg==').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} id The id of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetchWithProducts',\n    value: function fetchWithProducts(id) {\n      return this.graphQLClient.send(query$5, { id: id }).then(defaultResolver('node')).then(paginateCollectionsProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a collection by handle on the shop.\n     *\n     * @example\n     * client.collection.fetchByHandle('my-collection').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} handle The handle of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetchByHandle',\n    value: function fetchByHandle(handle) {\n      return this.graphQLClient.send(query$8, { handle: handle }).then(defaultResolver('shop.collectionByHandle'));\n    }\n\n    /**\n     * Fetches all collections on the shop that match the query.\n     *\n     * @example\n     * client.collection.fetchQuery({first: 20, sortKey: 'CREATED_AT', reverse: true}).then((collections) => {\n     *   // Do something with the first 10 collections sorted by title in ascending order\n     * });\n     *\n     * @param {Object} [args] An object specifying the query data containing zero or more of:\n     *   @param {Int} [args.first=20] The relay `first` param. This specifies page size.\n     *   @param {String} [args.sortKey=ID] The key to sort results by. Available values are\n     *   documented as {@link https://help.shopify.com/api/storefront-api/reference/enum/collectionsortkeys|Collection Sort Keys}.\n     *   @param {String} [args.query] A query string. See full documentation {@link https://help.shopify.com/api/storefront-api/reference/object/shop#collections|here}\n     *   @param {Boolean} [args.reverse] Whether or not to reverse the sort order of the results\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n\n  }, {\n    key: 'fetchQuery',\n    value: function fetchQuery() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$first = _ref2.first,\n          first = _ref2$first === undefined ? 20 : _ref2$first,\n          _ref2$sortKey = _ref2.sortKey,\n          sortKey = _ref2$sortKey === undefined ? 'ID' : _ref2$sortKey,\n          query = _ref2.query,\n          reverse = _ref2.reverse;\n\n      return this.graphQLClient.send(query$6, {\n        first: first,\n        sortKey: sortKey,\n        query: query,\n        reverse: reverse\n      }).then(defaultResolver('shop.collections'));\n    }\n  }]);\n  return CollectionResource;\n}(Resource);\n\nfunction query$9(client) {\n  var document = client.document();\n  document.addQuery(function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"currencyCode\");\n      shop.add(\"description\");\n      shop.add(\"moneyFormat\");\n      shop.add(\"name\");\n      shop.add(\"primaryDomain\", function (primaryDomain) {\n        primaryDomain.add(\"host\");\n        primaryDomain.add(\"sslEnabled\");\n        primaryDomain.add(\"url\");\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$10(client) {\n  var document = client.document();\n  var spreads = {};\n  spreads.PolicyFragment = document.defineFragment(\"PolicyFragment\", \"ShopPolicy\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"url\");\n    root.add(\"body\");\n  });\n  document.addQuery(function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"privacyPolicy\", function (privacyPolicy) {\n        privacyPolicy.addFragment(spreads.PolicyFragment);\n      });\n      shop.add(\"termsOfService\", function (termsOfService) {\n        termsOfService.addFragment(spreads.PolicyFragment);\n      });\n      shop.add(\"refundPolicy\", function (refundPolicy) {\n        refundPolicy.addFragment(spreads.PolicyFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK shop resource\n * @class\n */\n\nvar ShopResource = function (_Resource) {\n  inherits$1(ShopResource, _Resource);\n\n  function ShopResource() {\n    classCallCheck$1(this, ShopResource);\n    return possibleConstructorReturn$1(this, (ShopResource.__proto__ || Object.getPrototypeOf(ShopResource)).apply(this, arguments));\n  }\n\n  createClass$1(ShopResource, [{\n    key: 'fetchInfo',\n\n\n    /**\n     * Fetches shop information (`currencyCode`, `description`, `moneyFormat`, `name`, and `primaryDomain`).\n     * See the {@link https://help.shopify.com/api/storefront-api/reference/object/shop|Storefront API reference} for more information.\n     *\n     * @example\n     * client.shop.fetchInfo().then((shop) => {\n     *   // Do something with the shop\n     * });\n     *\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the shop.\n     */\n    value: function fetchInfo() {\n      return this.graphQLClient.send(query$9).then(defaultResolver('shop'));\n    }\n\n    /**\n     * Fetches shop policies (privacy policy, terms of service and refund policy).\n     *\n     * @example\n     * client.shop.fetchPolicies().then((shop) => {\n     *   // Do something with the shop\n     * });\n     *\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the shop.\n     */\n\n  }, {\n    key: 'fetchPolicies',\n    value: function fetchPolicies() {\n      return this.graphQLClient.send(query$10).then(defaultResolver('shop'));\n    }\n  }]);\n  return ShopResource;\n}(Resource);\n\nfunction handleCheckoutMutation(mutationRootKey, client) {\n  return function (_ref) {\n    var data = _ref.data,\n        errors = _ref.errors,\n        model = _ref.model;\n\n    var rootData = data[mutationRootKey];\n    var rootModel = model[mutationRootKey];\n\n    if (rootData && rootData.checkout) {\n      return client.fetchAllPages(rootModel.checkout.lineItems, { pageSize: 250 }).then(function (lineItems) {\n        rootModel.checkout.attrs.lineItems = lineItems;\n        rootModel.checkout.errors = errors;\n        rootModel.checkout.userErrors = rootModel.userErrors;\n\n        return rootModel.checkout;\n      });\n    }\n\n    if (errors && errors.length) {\n      return Promise.reject(new Error(JSON.stringify(errors)));\n    }\n\n    if (rootData && rootData.userErrors && rootData.userErrors.length) {\n      return Promise.reject(new Error(JSON.stringify(rootData.userErrors)));\n    }\n\n    return Promise.reject(new Error(\"The \" + mutationRootKey + \" mutation failed due to an unknown error.\"));\n  };\n}\n\nfunction query$11(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CheckoutFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$12(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.input = client.variable(\"input\", \"CheckoutCreateInput!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.input], function (root) {\n    root.add(\"checkoutCreate\", {\n      args: {\n        input: variables.__defaultOperation__.input\n      }\n    }, function (checkoutCreate) {\n      checkoutCreate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutCreate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$13(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItems = client.variable(\"lineItems\", \"[CheckoutLineItemInput!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItems], function (root) {\n    root.add(\"checkoutLineItemsAdd\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItems: variables.__defaultOperation__.lineItems\n      }\n    }, function (checkoutLineItemsAdd) {\n      checkoutLineItemsAdd.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsAdd.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$14(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItemIds = client.variable(\"lineItemIds\", \"[ID!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItemIds], function (root) {\n    root.add(\"checkoutLineItemsRemove\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItemIds: variables.__defaultOperation__.lineItemIds\n      }\n    }, function (checkoutLineItemsRemove) {\n      checkoutLineItemsRemove.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsRemove.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$15(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItems = client.variable(\"lineItems\", \"[CheckoutLineItemUpdateInput!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItems], function (root) {\n    root.add(\"checkoutLineItemsUpdate\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItems: variables.__defaultOperation__.lineItems\n      }\n    }, function (checkoutLineItemsUpdate) {\n      checkoutLineItemsUpdate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsUpdate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK checkout resource\n * @class\n */\n\nvar CheckoutResource = function (_Resource) {\n  inherits$1(CheckoutResource, _Resource);\n\n  function CheckoutResource() {\n    classCallCheck$1(this, CheckoutResource);\n    return possibleConstructorReturn$1(this, (CheckoutResource.__proto__ || Object.getPrototypeOf(CheckoutResource)).apply(this, arguments));\n  }\n\n  createClass$1(CheckoutResource, [{\n    key: 'fetch',\n\n\n    /**\n     * Fetches a checkout by ID.\n     *\n     * @example\n     * client.checkout.fetch('FlZj9rZXlN5MDY4ZDFiZTUyZTUwNTE2MDNhZjg=').then((checkout) => {\n     *   // Do something with the checkout\n     * });\n     *\n     * @param {String} id The id of the checkout to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the checkout.\n     */\n    value: function fetch(id) {\n      var _this2 = this;\n\n      return this.graphQLClient.send(query$11, { id: id }).then(defaultResolver('node')).then(function (checkout) {\n        return _this2.graphQLClient.fetchAllPages(checkout.lineItems, { pageSize: 250 }).then(function (lineItems) {\n          checkout.attrs.lineItems = lineItems;\n\n          return checkout;\n        });\n      });\n    }\n\n    /**\n     * Creates a checkout.\n     *\n     * @example\n     * const input = {\n     *   lineItems: [\n     *     {variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg==', quantity: 5}\n     *   ]\n     * };\n     *\n     * client.checkout.create(input).then((checkout) => {\n     *   // Do something with the newly created checkout\n     * });\n     *\n     * @param {Object} [input] An input object containing zero or more of:\n     *   @param {String} [input.email] An email connected to the checkout.\n     *   @param {Object[]} [input.lineItems] A list of line items in the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/checkoutlineiteminput|Storefront API reference} for valid input fields for each line item.\n     *   @param {Object} [input.shippingAddress] A shipping address. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/mailingaddressinput|Storefront API reference} for valid input fields.\n     *   @param {String} [input.note] A note for the checkout.\n     *   @param {Object[]} [input.customAttributes] A list of custom attributes for the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/attributeinput|Storefront API reference} for valid input fields.\n     * @return {Promise|GraphModel} A promise resolving with the created checkout.\n     */\n\n  }, {\n    key: 'create',\n    value: function create() {\n      var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this.graphQLClient.send(query$12, { input: input }).then(handleCheckoutMutation('checkoutCreate', this.graphQLClient));\n    }\n\n    /**\n     * Adds line items to an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItems = [{variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg==', quantity: 5}];\n     *\n     * client.checkout.addLineItems(checkoutId, lineItems).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add line items to.\n     * @param {Object[]} lineItems A list of line items to add to the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/checkoutlineiteminput|Storefront API reference} for valid input fields for each line item.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'addLineItems',\n    value: function addLineItems(checkoutId, lineItems) {\n      return this.graphQLClient.send(query$13, { checkoutId: checkoutId, lineItems: lineItems }).then(handleCheckoutMutation('checkoutLineItemsAdd', this.graphQLClient));\n    }\n\n    /**\n     * Removes line items from an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItemIds = ['TViZGE5Y2U1ZDFhY2FiMmM2YT9rZXk9NTc2YjBhODcwNWIxYzg0YjE5ZjRmZGQ5NjczNGVkZGU='];\n     *\n     * client.checkout.removeLineItems(checkoutId, lineItemIds).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to remove line items from.\n     * @param {String[]} lineItemIds A list of the ids of line items to remove from the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'removeLineItems',\n    value: function removeLineItems(checkoutId, lineItemIds) {\n      return this.graphQLClient.send(query$14, { checkoutId: checkoutId, lineItemIds: lineItemIds }).then(handleCheckoutMutation('checkoutLineItemsRemove', this.graphQLClient));\n    }\n\n    /**\n     * Updates line items on an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItems = [\n     *   {\n     *     id: 'TViZGE5Y2U1ZDFhY2FiMmM2YT9rZXk9NTc2YjBhODcwNWIxYzg0YjE5ZjRmZGQ5NjczNGVkZGU=',\n     *     quantity: 5,\n     *     variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg=='\n     *   }\n     * ];\n     *\n     * client.checkout.updateLineItems(checkoutId, lineItems).then(checkout => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to update a line item on.\n     * @param {Object[]} lineItems A list of line item information to update. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/checkoutlineitemupdateinput|Storefront API reference} for valid input fields for each line item.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateLineItems',\n    value: function updateLineItems(checkoutId, lineItems) {\n      return this.graphQLClient.send(query$15, { checkoutId: checkoutId, lineItems: lineItems }).then(handleCheckoutMutation('checkoutLineItemsUpdate', this.graphQLClient));\n    }\n  }]);\n  return CheckoutResource;\n}(Resource);\n\n/**\n * @namespace ImageHelpers\n */\nvar imageHelpers = {\n\n  /**\n   * Generates the image src for a resized image with maximum dimensions `maxWidth` and `maxHeight`.\n   * Images do not scale up.\n   *\n   * @example\n   * const url = client.image.imageForSize(product.variants[0].image, {maxWidth: 50, maxHeight: 50});\n   *\n   * @memberof ImageHelpers\n   * @method imageForSize\n   * @param {Object} image The original image model to generate the image src for.\n   * @param {Object} options An options object containing:\n   *  @param {Integer} options.maxWidth The maximum width for the image.\n   *  @param {Integer} options.maxHeight The maximum height for the image.\n   * @return {String} The image src for the resized image.\n   */\n  imageForSize: function imageForSize(image, _ref) {\n    var maxWidth = _ref.maxWidth,\n        maxHeight = _ref.maxHeight;\n\n    var splitUrl = image.src.split('?');\n    var notQuery = splitUrl[0];\n    var query = splitUrl[1] ? '?' + splitUrl[1] : '';\n\n    // Use the section before the query\n    var imageTokens = notQuery.split('.');\n\n    // Take the token before the file extension and append the dimensions\n    var imagePathIndex = imageTokens.length - 2;\n\n    imageTokens[imagePathIndex] = imageTokens[imagePathIndex] + '_' + maxWidth + 'x' + maxHeight;\n\n    return '' + imageTokens.join('.') + query;\n  }\n};\n\n/**\n * The JS Buy SDK image resource\n * @class\n */\n\nvar ImageResource = function (_Resource) {\n  inherits$1(ImageResource, _Resource);\n\n  function ImageResource() {\n    classCallCheck$1(this, ImageResource);\n    return possibleConstructorReturn$1(this, (ImageResource.__proto__ || Object.getPrototypeOf(ImageResource)).apply(this, arguments));\n  }\n\n  createClass$1(ImageResource, [{\n    key: 'helpers',\n    get: function get$$1() {\n      return imageHelpers;\n    }\n  }]);\n  return ImageResource;\n}(Resource);\n\nvar version = \"1.4.0\";\n\nvar QueryRoot = {\n  \"name\": \"QueryRoot\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"node\": \"Node\",\n    \"nodes\": \"Node\",\n    \"shop\": \"Shop\"\n  },\n  \"implementsNode\": false\n};\n\nvar Node = {\n  \"name\": \"Node\",\n  \"kind\": \"INTERFACE\",\n  \"fieldBaseTypes\": {},\n  \"possibleTypes\": [\"AppliedGiftCard\", \"Article\", \"Blog\", \"Checkout\", \"CheckoutLineItem\", \"Collection\", \"Comment\", \"MailingAddress\", \"Order\", \"Payment\", \"Product\", \"ProductOption\", \"ProductVariant\", \"ShopPolicy\"]\n};\n\nvar ID = {\n  \"name\": \"ID\",\n  \"kind\": \"SCALAR\"\n};\n\nvar String$1 = {\n  \"name\": \"String\",\n  \"kind\": \"SCALAR\"\n};\n\nvar Boolean$1 = {\n  \"name\": \"Boolean\",\n  \"kind\": \"SCALAR\"\n};\n\nvar DateTime = {\n  \"name\": \"DateTime\",\n  \"kind\": \"SCALAR\"\n};\n\nvar MailingAddress = {\n  \"name\": \"MailingAddress\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"address1\": \"String\",\n    \"address2\": \"String\",\n    \"city\": \"String\",\n    \"company\": \"String\",\n    \"country\": \"String\",\n    \"countryCode\": \"String\",\n    \"firstName\": \"String\",\n    \"formatted\": \"String\",\n    \"id\": \"ID\",\n    \"lastName\": \"String\",\n    \"latitude\": \"Float\",\n    \"longitude\": \"Float\",\n    \"name\": \"String\",\n    \"phone\": \"String\",\n    \"province\": \"String\",\n    \"provinceCode\": \"String\",\n    \"zip\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar Float = {\n  \"name\": \"Float\",\n  \"kind\": \"SCALAR\"\n};\n\nvar PageInfo = {\n  \"name\": \"PageInfo\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"hasNextPage\": \"Boolean\",\n    \"hasPreviousPage\": \"Boolean\"\n  },\n  \"implementsNode\": false\n};\n\nvar Int = {\n  \"name\": \"Int\",\n  \"kind\": \"SCALAR\"\n};\n\nvar Order = {\n  \"name\": \"Order\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"currencyCode\": \"CurrencyCode\",\n    \"customerUrl\": \"URL\",\n    \"id\": \"ID\",\n    \"lineItems\": \"OrderLineItemConnection\",\n    \"orderNumber\": \"Int\",\n    \"processedAt\": \"DateTime\",\n    \"shippingAddress\": \"MailingAddress\",\n    \"subtotalPrice\": \"Money\",\n    \"totalPrice\": \"Money\",\n    \"totalRefunded\": \"Money\",\n    \"totalShippingPrice\": \"Money\",\n    \"totalTax\": \"Money\"\n  },\n  \"implementsNode\": true\n};\n\nvar Money = {\n  \"name\": \"Money\",\n  \"kind\": \"SCALAR\"\n};\n\nvar CurrencyCode = {\n  \"name\": \"CurrencyCode\",\n  \"kind\": \"ENUM\"\n};\n\nvar URL = {\n  \"name\": \"URL\",\n  \"kind\": \"SCALAR\"\n};\n\nvar OrderLineItemConnection = {\n  \"name\": \"OrderLineItemConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"OrderLineItemEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar OrderLineItemEdge = {\n  \"name\": \"OrderLineItemEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"OrderLineItem\"\n  },\n  \"implementsNode\": false\n};\n\nvar OrderLineItem = {\n  \"name\": \"OrderLineItem\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"customAttributes\": \"Attribute\",\n    \"quantity\": \"Int\",\n    \"title\": \"String\",\n    \"variant\": \"ProductVariant\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductVariant = {\n  \"name\": \"ProductVariant\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"available\": \"Boolean\",\n    \"compareAtPrice\": \"Money\",\n    \"id\": \"ID\",\n    \"image\": \"Image\",\n    \"price\": \"Money\",\n    \"product\": \"Product\",\n    \"selectedOptions\": \"SelectedOption\",\n    \"sku\": \"String\",\n    \"title\": \"String\",\n    \"weight\": \"Float\"\n  },\n  \"implementsNode\": true\n};\n\nvar Image = {\n  \"name\": \"Image\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"altText\": \"String\",\n    \"id\": \"ID\",\n    \"src\": \"URL\"\n  },\n  \"implementsNode\": false\n};\n\nvar SelectedOption = {\n  \"name\": \"SelectedOption\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"name\": \"String\",\n    \"value\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Product = {\n  \"name\": \"Product\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"createdAt\": \"DateTime\",\n    \"description\": \"String\",\n    \"descriptionHtml\": \"HTML\",\n    \"handle\": \"String\",\n    \"id\": \"ID\",\n    \"images\": \"ImageConnection\",\n    \"onlineStoreUrl\": \"URL\",\n    \"options\": \"ProductOption\",\n    \"productType\": \"String\",\n    \"publishedAt\": \"DateTime\",\n    \"tags\": \"String\",\n    \"title\": \"String\",\n    \"updatedAt\": \"DateTime\",\n    \"variants\": \"ProductVariantConnection\",\n    \"vendor\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar CollectionConnection = {\n  \"name\": \"CollectionConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"CollectionEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar CollectionEdge = {\n  \"name\": \"CollectionEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Collection\"\n  },\n  \"implementsNode\": false\n};\n\nvar Collection = {\n  \"name\": \"Collection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"description\": \"String\",\n    \"descriptionHtml\": \"HTML\",\n    \"handle\": \"String\",\n    \"id\": \"ID\",\n    \"image\": \"Image\",\n    \"products\": \"ProductConnection\",\n    \"title\": \"String\",\n    \"updatedAt\": \"DateTime\"\n  },\n  \"implementsNode\": true\n};\n\nvar HTML = {\n  \"name\": \"HTML\",\n  \"kind\": \"SCALAR\"\n};\n\nvar ProductConnection = {\n  \"name\": \"ProductConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ProductEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductEdge = {\n  \"name\": \"ProductEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Product\"\n  },\n  \"implementsNode\": false\n};\n\nvar ImageConnection = {\n  \"name\": \"ImageConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ImageEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ImageEdge = {\n  \"name\": \"ImageEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Image\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductOption = {\n  \"name\": \"ProductOption\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"name\": \"String\",\n    \"values\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar ProductVariantConnection = {\n  \"name\": \"ProductVariantConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ProductVariantEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductVariantEdge = {\n  \"name\": \"ProductVariantEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"ProductVariant\"\n  },\n  \"implementsNode\": false\n};\n\nvar Attribute = {\n  \"name\": \"Attribute\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"key\": \"String\",\n    \"value\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Shop = {\n  \"name\": \"Shop\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"collectionByHandle\": \"Collection\",\n    \"collections\": \"CollectionConnection\",\n    \"currencyCode\": \"CurrencyCode\",\n    \"description\": \"String\",\n    \"moneyFormat\": \"String\",\n    \"name\": \"String\",\n    \"primaryDomain\": \"Domain\",\n    \"privacyPolicy\": \"ShopPolicy\",\n    \"productByHandle\": \"Product\",\n    \"products\": \"ProductConnection\",\n    \"refundPolicy\": \"ShopPolicy\",\n    \"termsOfService\": \"ShopPolicy\"\n  },\n  \"implementsNode\": false\n};\n\nvar Domain = {\n  \"name\": \"Domain\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"host\": \"String\",\n    \"sslEnabled\": \"Boolean\",\n    \"url\": \"URL\"\n  },\n  \"implementsNode\": false\n};\n\nvar ShopPolicy = {\n  \"name\": \"ShopPolicy\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"body\": \"String\",\n    \"id\": \"ID\",\n    \"title\": \"String\",\n    \"url\": \"URL\"\n  },\n  \"implementsNode\": true\n};\n\nvar Mutation$1 = {\n  \"name\": \"Mutation\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkoutCreate\": \"CheckoutCreatePayload\",\n    \"checkoutLineItemsAdd\": \"CheckoutLineItemsAddPayload\",\n    \"checkoutLineItemsRemove\": \"CheckoutLineItemsRemovePayload\",\n    \"checkoutLineItemsUpdate\": \"CheckoutLineItemsUpdatePayload\"\n  },\n  \"implementsNode\": false,\n  \"relayInputObjectBaseTypes\": {\n    \"checkoutAttributesUpdate\": \"CheckoutAttributesUpdateInput\",\n    \"checkoutCreate\": \"CheckoutCreateInput\",\n    \"customerAccessTokenCreate\": \"CustomerAccessTokenCreateInput\",\n    \"customerActivate\": \"CustomerActivateInput\",\n    \"customerCreate\": \"CustomerCreateInput\",\n    \"customerReset\": \"CustomerResetInput\"\n  }\n};\n\nvar UserError = {\n  \"name\": \"UserError\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"field\": \"String\",\n    \"message\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Checkout = {\n  \"name\": \"Checkout\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"completedAt\": \"DateTime\",\n    \"createdAt\": \"DateTime\",\n    \"currencyCode\": \"CurrencyCode\",\n    \"customAttributes\": \"Attribute\",\n    \"id\": \"ID\",\n    \"lineItems\": \"CheckoutLineItemConnection\",\n    \"note\": \"String\",\n    \"order\": \"Order\",\n    \"orderStatusUrl\": \"URL\",\n    \"paymentDue\": \"Money\",\n    \"ready\": \"Boolean\",\n    \"requiresShipping\": \"Boolean\",\n    \"shippingAddress\": \"MailingAddress\",\n    \"shippingLine\": \"ShippingRate\",\n    \"subtotalPrice\": \"Money\",\n    \"taxExempt\": \"Boolean\",\n    \"taxesIncluded\": \"Boolean\",\n    \"totalPrice\": \"Money\",\n    \"totalTax\": \"Money\",\n    \"updatedAt\": \"DateTime\",\n    \"webUrl\": \"URL\"\n  },\n  \"implementsNode\": true\n};\n\nvar CheckoutLineItemConnection = {\n  \"name\": \"CheckoutLineItemConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"CheckoutLineItemEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemEdge = {\n  \"name\": \"CheckoutLineItemEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"CheckoutLineItem\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItem = {\n  \"name\": \"CheckoutLineItem\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"customAttributes\": \"Attribute\",\n    \"id\": \"ID\",\n    \"quantity\": \"Int\",\n    \"title\": \"String\",\n    \"variant\": \"ProductVariant\"\n  },\n  \"implementsNode\": true\n};\n\nvar ShippingRate = {\n  \"name\": \"ShippingRate\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"handle\": \"String\",\n    \"price\": \"Money\",\n    \"title\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutCreatePayload = {\n  \"name\": \"CheckoutCreatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsAddPayload = {\n  \"name\": \"CheckoutLineItemsAddPayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsRemovePayload = {\n  \"name\": \"CheckoutLineItemsRemovePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsUpdatePayload = {\n  \"name\": \"CheckoutLineItemsUpdatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar Types = {\n  types: {}\n};\nTypes.types[\"QueryRoot\"] = QueryRoot;\nTypes.types[\"Node\"] = Node;\nTypes.types[\"ID\"] = ID;\nTypes.types[\"String\"] = String$1;\nTypes.types[\"Boolean\"] = Boolean$1;\nTypes.types[\"DateTime\"] = DateTime;\nTypes.types[\"MailingAddress\"] = MailingAddress;\nTypes.types[\"Float\"] = Float;\nTypes.types[\"PageInfo\"] = PageInfo;\nTypes.types[\"Int\"] = Int;\nTypes.types[\"Order\"] = Order;\nTypes.types[\"Money\"] = Money;\nTypes.types[\"CurrencyCode\"] = CurrencyCode;\nTypes.types[\"URL\"] = URL;\nTypes.types[\"OrderLineItemConnection\"] = OrderLineItemConnection;\nTypes.types[\"OrderLineItemEdge\"] = OrderLineItemEdge;\nTypes.types[\"OrderLineItem\"] = OrderLineItem;\nTypes.types[\"ProductVariant\"] = ProductVariant;\nTypes.types[\"Image\"] = Image;\nTypes.types[\"SelectedOption\"] = SelectedOption;\nTypes.types[\"Product\"] = Product;\nTypes.types[\"CollectionConnection\"] = CollectionConnection;\nTypes.types[\"CollectionEdge\"] = CollectionEdge;\nTypes.types[\"Collection\"] = Collection;\nTypes.types[\"HTML\"] = HTML;\nTypes.types[\"ProductConnection\"] = ProductConnection;\nTypes.types[\"ProductEdge\"] = ProductEdge;\nTypes.types[\"ImageConnection\"] = ImageConnection;\nTypes.types[\"ImageEdge\"] = ImageEdge;\nTypes.types[\"ProductOption\"] = ProductOption;\nTypes.types[\"ProductVariantConnection\"] = ProductVariantConnection;\nTypes.types[\"ProductVariantEdge\"] = ProductVariantEdge;\nTypes.types[\"Attribute\"] = Attribute;\nTypes.types[\"Shop\"] = Shop;\nTypes.types[\"Domain\"] = Domain;\nTypes.types[\"ShopPolicy\"] = ShopPolicy;\nTypes.types[\"Mutation\"] = Mutation$1;\nTypes.types[\"UserError\"] = UserError;\nTypes.types[\"Checkout\"] = Checkout;\nTypes.types[\"CheckoutLineItemConnection\"] = CheckoutLineItemConnection;\nTypes.types[\"CheckoutLineItemEdge\"] = CheckoutLineItemEdge;\nTypes.types[\"CheckoutLineItem\"] = CheckoutLineItem;\nTypes.types[\"ShippingRate\"] = ShippingRate;\nTypes.types[\"CheckoutCreatePayload\"] = CheckoutCreatePayload;\nTypes.types[\"CheckoutLineItemsAddPayload\"] = CheckoutLineItemsAddPayload;\nTypes.types[\"CheckoutLineItemsRemovePayload\"] = CheckoutLineItemsRemovePayload;\nTypes.types[\"CheckoutLineItemsUpdatePayload\"] = CheckoutLineItemsUpdatePayload;\nTypes.queryType = \"QueryRoot\";\nTypes.mutationType = \"Mutation\";\nTypes.subscriptionType = null;\n\nfunction recursivelyFreezeObject(structure) {\n  Object.getOwnPropertyNames(structure).forEach(function (key) {\n    var value = structure[key];\n    if (value && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n      recursivelyFreezeObject(value);\n    }\n  });\n  Object.freeze(structure);\n  return structure;\n}\n\nvar types = recursivelyFreezeObject(Types);\n\n// GraphQL\n/**\n * The JS Buy SDK Client.\n * @class\n *\n * @property {ProductResource} product The property under which product fetching methods live.\n * @property {CollectionResource} collection The property under which collection fetching methods live.\n * @property {ShopResource} shop The property under which shop fetching methods live.\n * @property {CheckoutResource} checkout The property under which shop fetching and mutating methods live.\n * @property {ImageResource} image The property under which image helper methods live.\n */\n\nvar Client = function () {\n  createClass$1(Client, null, [{\n    key: 'buildClient',\n\n\n    /**\n     * Primary entry point for building a new Client.\n     */\n    value: function buildClient(config, fetchFunction) {\n      var newConfig = new Config(config);\n      var client = new Client(newConfig, Client$2, fetchFunction);\n\n      client.config = newConfig;\n\n      return client;\n    }\n\n    /**\n     * @constructs Client\n     * @param {Config} config An instance of {@link Config} used to configure the Client.\n     */\n\n  }]);\n\n  function Client(config) {\n    var GraphQLClientClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Client$2;\n    var fetchFunction = arguments[2];\n    classCallCheck$1(this, Client);\n\n    var url = 'https://' + config.domain + '/api/graphql';\n\n    var headers = {\n      'X-SDK-Variant': 'javascript',\n      'X-SDK-Version': version,\n      'X-Shopify-Storefront-Access-Token': config.storefrontAccessToken\n    };\n\n    if (fetchFunction) {\n      headers['Content-Type'] = 'application/json';\n      headers.Accept = 'application/json';\n\n      this.graphQLClient = new GraphQLClientClass(types, {\n        fetcher: function fetcher(graphQLParams) {\n          return fetchFunction(url, {\n            body: JSON.stringify(graphQLParams),\n            method: 'POST',\n            mode: 'cors',\n            headers: headers\n          }).then(function (response) {\n            return response.json();\n          });\n        }\n      });\n    } else {\n      this.graphQLClient = new GraphQLClientClass(types, {\n        url: url,\n        fetcherOptions: { headers: headers }\n      });\n    }\n\n    this.product = new ProductResource(this.graphQLClient);\n    this.collection = new CollectionResource(this.graphQLClient);\n    this.shop = new ShopResource(this.graphQLClient);\n    this.checkout = new CheckoutResource(this.graphQLClient);\n    this.image = new ImageResource(this.graphQLClient);\n  }\n\n  /**\n   * Fetches the next page of models\n   *\n   * @example\n   * client.fetchNextPage(products).then((nextProducts) => {\n   *   // Do something with the products\n   * });\n   *\n   * @param {models} [Array] The paginated set to fetch the next page of\n   * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the type provided.\n   */\n\n\n  createClass$1(Client, [{\n    key: 'fetchNextPage',\n    value: function fetchNextPage(models) {\n      return this.graphQLClient.fetchNextPage(models);\n    }\n  }]);\n  return Client;\n}();\n\nmodule.exports = Client;\n//# sourceMappingURL=index.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/shopify-buy/index.js","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(window, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\tif(!document.getElementsByClassName){return;}\n\n\tvar lazysizes, lazySizesConfig;\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('CustomEvent');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initCustomEvent(name, !noBubbles, !noCancelable, detail);\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesConfig.pf) ) ){\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesConfig.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = 125;\n\t\tvar rICTimeout = lazySizesConfig.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && lazySizesConfig.ricTimeout ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesConfig.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesConfig.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || (delay < 9 && requestIdleCallback)){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 300,\n\t\t};\n\n\t\tlazySizesConfig = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesConfig)){\n\t\t\t\tlazySizesConfig[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\n\t\twindow.lazySizesConfig = lazySizesConfig;\n\n\t\tsetTimeout(function(){\n\t\t\tif(lazySizesConfig.init){\n\t\t\t\tinit();\n\t\t\t}\n\t\t});\n\t})();\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom;\n\n\t\tvar defaultExpand, preloadExpand, hFac;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/glebot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(e && e.target){\n\t\t\t\taddRemoveLoadEvents(e.target, resetPreloading);\n\t\t\t}\n\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = getCSS(document.body, 'visibility') == 'hidden' || getCSS(elem, 'visibility') != 'hidden';\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal, beforeExpandVal;\n\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesConfig.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tif(preloadExpand == null){\n\t\t\t\t\tif(!('expand' in lazySizesConfig)){\n\t\t\t\t\t\tlazySizesConfig.expand = docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefaultExpand = lazySizesConfig.expand;\n\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesConfig.expFactor;\n\t\t\t\t}\n\n\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\tlowRuns = 0;\n\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t}\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesConfig.loadHidden || getCSS(lazyloadElems[i], 'visibility') != 'hidden') &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesConfig.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\taddClass(e.target, lazySizesConfig.loadedClass);\n\t\t\tremoveClass(e.target, lazySizesConfig.loadingClass);\n\t\t\taddRemoveLoadEvents(e.target, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(e.target, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesConfig.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesConfig.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesConfig.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesConfig.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesConfig.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\taddRemoveLoadEvents(elem, resetPreloading, true);\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\n\t\t\t\t\taddClass(elem, lazySizesConfig.loadingClass);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesConfig.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\tif( !firesLoad || (elem.complete && elem.naturalWidth > 1)){\n\t\t\t\t\tif(firesLoad){\n\t\t\t\t\t\tresetPreloading(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisLoading--;\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesConfig.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesConfig.errorClass) && hasClass(elem, lazySizesConfig.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar afterScroll = debounce(function(){\n\t\t\t\tlazySizesConfig.loadMode = 3;\n\t\t\t\tthrottledCheckElements();\n\t\t\t});\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesConfig.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', function(){\n\t\t\t\tif(lazySizesConfig.loadMode == 3){\n\t\t\t\t\tlazySizesConfig.loadMode = 2;\n\t\t\t\t}\n\t\t\t\tafterScroll();\n\t\t\t}, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesConfig.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesConfig.lazyClass + ' ' + lazySizesConfig.preloadClass);\n\t\t\t\thFac = lazySizesConfig.hFac;\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend', 'webkitAnimationEnd'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesConfig.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tlazysizes = {\n\t\tcfg: lazySizesConfig,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lazysizes/lazysizes.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"second\",e=\"minute\",n=\"hour\",s=\"day\",r=\"week\",i=\"month\",a=\"year\",u=\"Sunday.Monday.Tuesday.Wednesday.Thursday.Friday.Saturday\".split(\".\"),c=\"January.February.March.April.May.June.July.August.September.October.November.December\".split(\".\"),h=/^(\\d{4})-?(\\d{1,2})-?(\\d{1,2})(.*?(\\d{1,2}):(\\d{1,2}):(\\d{1,2}))?.?(\\d{1,3})?$/,o=/\\[.*?\\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(t,e,n){var s=String(t);return!s||s.length>=e?t:\"\"+Array(e+1-s.length).join(n)+t},$=function(t){return t&&String(t).toLowerCase().replace(/s$/,\"\")},f=function(t){return void 0===t},l=function(t){var e;return null===t?new Date(NaN):f(t)?new Date:t instanceof Date?t:\"string\"==typeof t&&(e=t.match(h))?new Date(e[1],e[2]-1,e[3],e[5]||0,e[6]||0,e[7]||0,e[8]||0):new Date(t)},m=function(){function h(t){this.$d=l(t),this.init()}var m=h.prototype;return m.init=function(){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds()},m.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},m.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0},m.isSame=function(t){return this.valueOf()===t.valueOf()},m.isBefore=function(t){return this.valueOf()<t.valueOf()},m.isAfter=function(t){return this.valueOf()>t.valueOf()},m.year=function(){return this.$y},m.month=function(){return this.$M},m.day=function(){return this.$W},m.date=function(){return this.$D},m.hour=function(){return this.$H},m.minute=function(){return this.$m},m.second=function(){return this.$s},m.millisecond=function(){return this.$ms},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(u,c){var o=this,d=!!f(c)||c,l=function(t,e,n){void 0===n&&(n=o.$y);var r=new h(new Date(n,e,t));return d?r:r.endOf(s)},m=function(t,e){return new h(o.toDate()[t].apply(o.toDate(),d?[0,0,0,0].slice(e):[23,59,59,999].slice(e)))};switch($(u)){case a:return d?l(1,0):l(31,11,this.$y);case i:return d?l(1,this.$M):l(0,this.$M+1,this.$y);case r:return d?l(this.$D-this.$W,this.$M):l(this.$D+(6-this.$W),this.$M,this.$y);case s:case\"date\":return m(\"setHours\",0);case n:return m(\"setMinutes\",1);case e:return m(\"setSeconds\",2);case t:return m(\"setMilliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(s,r){switch($(s)){case\"date\":this.$d.setDate(r);break;case i:this.$d.setMonth(r);break;case a:this.$d.setFullYear(r);break;case n:this.$d.setHours(r);break;case e:this.$d.setMinutes(r);break;case t:this.$d.setSeconds(r);break;case\"millisecond\":this.$d.setMilliseconds(r)}return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.add=function(t,u){t=Number(t);var c,o=u&&1===u.length?u:$(u);if([\"M\",i].indexOf(o)>-1){var d=this.set(\"date\",1).set(i,this.$M+t);return d=d.set(\"date\",Math.min(this.$D,d.daysInMonth()))}if([\"y\",a].indexOf(o)>-1)return this.set(a,this.$y+t);switch(o){case\"m\":case e:c=6e4;break;case\"h\":case n:c=36e5;break;case\"d\":case s:c=864e5;break;case\"w\":case r:c=6048e5;break;default:c=1e3}return new h(this.valueOf()+t*c)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e,n,s,r,i=this,a=t||\"YYYY-MM-DDTHH:mm:ssZ\",h=(e=this.$d.getTimezoneOffset(),n=Math.abs(e),s=Math.floor(n/60),r=n%60,(e<=0?\"+\":\"-\")+d(s,2,\"0\")+\":\"+d(r,2,\"0\"));return a.replace(o,function(t){if(t.indexOf(\"[\")>-1)return t.replace(/\\[|\\]/g,\"\");switch(t){case\"YY\":return String(i.$y).slice(-2);case\"YYYY\":return String(i.$y);case\"M\":return String(i.$M+1);case\"MM\":return d(i.$M+1,2,\"0\");case\"MMM\":return c[i.$M].slice(0,3);case\"MMMM\":return c[i.$M];case\"D\":return String(i.$D);case\"DD\":return d(i.$D,2,\"0\");case\"d\":return String(i.$W);case\"dddd\":return u[i.$W];case\"H\":return String(i.$H);case\"HH\":return d(i.$H,2,\"0\");case\"h\":case\"hh\":return 0===i.$H?12:d(i.$H<13?i.$H:i.$H-12,\"hh\"===t?2:1,\"0\");case\"a\":return i.$H<12?\"am\":\"pm\";case\"A\":return i.$H<12?\"AM\":\"PM\";case\"m\":return String(i.$m);case\"mm\":return d(i.$m,2,\"0\");case\"s\":return String(i.$s);case\"ss\":return d(i.$s,2,\"0\");case\"SSS\":return d(i.$ms,3,\"0\");case\"Z\":return h;default:return h.replace(\":\",\"\")}})},m.diff=function(u,c,o){var d,f,l,m,M,y,g=$(c),S=u instanceof h?u:new h(u),D=this-S,b=(d=this,m=12*((f=S).year()-d.year())+(f.month()-d.month()),M=d.clone().add(m,\"months\"),l=f-M<0?(f-M)/(M-d.clone().add(m-1,\"months\")):(f-M)/(d.clone().add(m+1,\"months\")-M),Number(-(m+l)));switch(g){case a:b/=12;break;case i:break;case\"quarter\":b/=3;break;case r:b=D/6048e5;break;case s:b=D/864e5;break;case n:b=D/36e5;break;case e:b=D/6e4;break;case t:b=D/1e3;break;default:b=D}return o?b:(y=b)<0?Math.ceil(y)||0:Math.floor(y)},m.daysInMonth=function(){return this.endOf(i).$D},m.clone=function(){return new h(this)},m.toDate=function(){return new Date(this.$d)},m.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},m.toJSON=function(){return this.toISOString()},m.toISOString=function(){return this.toDate().toISOString()},m.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},m.toString=function(){return this.$d.toUTCString()},h}();return function(t){return new m(t)}});\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dayjs/dist/dayjs.min.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styl/site.styl\n// module id = 8\n// module chunks = 0","/* jshint esversion: 6, browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document, window, WP */\n\nclass Ajaxy {\n  constructor() {\n    // firstLoad is checked below. It helps prevent Safari's popstate on load to\n    // reload (ajax) the site.\n    this.firstLoad = true;\n\n    // Bind function\n    this.ajaxBefore = this.ajaxBefore.bind(this);\n    this.ajaxSuccess = this.ajaxSuccess.bind(this);\n    this.ajaxAfter = this.ajaxAfter.bind(this);\n    this.ajaxErrorHandler = this.ajaxErrorHandler.bind(this);\n    this.handlePopState = this.handlePopState.bind(this);\n\n    // Bind links\n    this.bindLinks();\n\n    // Ajax event\n    this.ajaxSuccessEvent = new Event('ajaxSuccess');\n\n    $(window).bind('popstate', this.handlePopState);\n\n  }\n\n  handlePopState() {\n    if( !this.firstLoad ) {\n      this.load(document.location.origin + document.location.pathname, false);\n    }\n  }\n\n  bindLinks() {\n    const siteURL = \"http://\" + top.location.host.toString();\n\n    this.$ajaxyLinks = $(\"a[href^='\" + siteURL + \"'], a[href^='/'], a[href^='./'], a[href^='../'], a[href^='#']\").not('#wpadminbar a, .not-ajax');\n\n    // Find all ajaxy links and bind ajax event\n    this.$ajaxyLinks.click(this.handleLinkClick.bind(this));\n  }\n\n  handleLinkClick(event) {\n\n    // Detect if is cmd+click or ctrl+click or has been defaultPrevented somewhere else\n    if ( !event.isDefaultPrevented() && !event.metaKey && !event.ctrlKey ) {\n      event.preventDefault();\n\n      let url = event.currentTarget.href;\n\n      this.load(url);\n    }\n\n    return;\n\n  }\n\n  reset() {\n\n    // Unbind click from all ajax links\n    this.$ajaxyLinks.unbind('click');\n\n    // Re initiate\n    this.bindLinks();\n  }\n\n  /*\n   * Load a new URL thru ajax\n   * @url {String}: URL to load\n   * @pushState {Bool}: Make false if a new state doens't need to be pushed (Default: true). Ex, going back\n   */\n  load(url, pushState = true) {\n\n    this.firstLoad = false;\n\n    if( pushState ) {\n      // Push new history state\n      history.pushState(null, null, url);\n    }\n\n    $.ajax(url, {\n      dataType: 'html',\n      beforeSend: this.ajaxBefore,\n      error: this.ajaxErrorHandler,\n      success: this.ajaxSuccess,\n      complete: this.ajaxAfter,\n    });\n  }\n\n  ajaxBefore(xhr, settings) {\n\n    $('body').addClass('loading');\n    $('body, html').animate({\n      scrollTop: 0,\n    }, 300);\n  }\n\n  ajaxAfter() {\n\n    $('body').removeClass('loading');\n\n    this.reset();\n\n  }\n\n  ajaxErrorHandler(jqXHR, textStatus) {\n    console.log(textStatus);\n    console.log(jqXHR);\n  }\n\n  ajaxSuccess(data, textStatus, jqXHR) {\n    // Convert data into proper html to be able to fully parse thru jQuery\n    let respHtml = document.createElement('html');\n\n    respHtml.innerHTML = data;\n\n    // Get changes: body classes, page title, main content, header\n    let $bodyClasses = $('body', respHtml).attr('class');\n    let $content = $('#main-content', respHtml);\n    let $title = $('title', respHtml).text();\n\n    // Update with new title, content and classes\n    document.title = $title;\n    $('#main-content').html($content.html());\n    $('body').removeAttr('class').addClass($bodyClasses + ' loading');\n\n    // Update Admin Bar\n    if( WP.isAdmin ) {\n      $('#wpadminbar').html( $('#wpadminbar', respHtml) ); \n    }\n\n    // Trigger event on window\n    window.dispatchEvent(this.ajaxSuccessEvent);\n\n  }\n}\n\nexport default Ajaxy;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ajaxy.js"],"sourceRoot":""}